---
description: イベントと通知は、ビデオアプリケーションの非同期的な側面を管理するのに役立ちます。
title: プレーヤーステータス、アクティビティ、エラーおよびログに関する通知とイベント
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '480'
ht-degree: 0%

---

# プレーヤーステータス、アクティビティ、エラーおよびログに関する通知とイベント {#notifications-and-events-for-player-status-activity-errors-and-logging}

イベントと通知は、ビデオアプリケーションの非同期的な側面を管理するのに役立ちます。

`MediaPlayerStatus` オブジェクトは、プレーヤーのステータスの変更に関する情報を提供します。 `Notification` オブジェクトは、警告とエラーに関する情報を提供します。 ビデオの再生を停止するエラーは、プレーヤーのステータスが変更される原因となります。 イベントリスナーを実装して、イベントをキャプチャし、それに応答します ( `MediaPlayerEvent` オブジェクト ) を参照してください。

アプリケーションは、通知とステータス情報を取得できます。 この情報を使用して、診断と検証のためのログシステムを作成することもできます。

## 通知コンテンツ {#section_DF951FF601794CF592841BB7406DC1A1}

`MediaPlayerNotification` は、プレーヤーのステータスに関連する情報を提供します。

TVSDK は、 `MediaPlayerNotification` 通知と、各通知には次の情報が含まれます。

* タイムスタンプ
* 次の要素で構成される診断メタデータ：

   * `type`：情報、警告またはエラー。
   * `code`：通知の数値表現。
   * `name`：人間が判読できる、通知の説明（SEEK_ERROR など）
   * `metadata`：通知に関する関連情報を含むキーと値のペア。 例えば、 `URL` は通知に関連する URL を示す値を提供します。

   * `innerNotification`：別のへの参照 `MediaPlayerNotification` オブジェクトを直接表示します。

この情報をローカルに保存して後で分析したり、ログ記録やグラフィカル表示のためにリモートサーバーに送信したりできます。

## 通知システムの設定 {#section_9E37C09ECFA54B3DA8D3AA9ED1BAFC17}

通知をリッスンできます。

Primetime Player 通知システムの中心は、 `Notification` クラス。スタンドアロンの通知を表します。

通知を受け取るには、次のように通知をリッスンします。

1. の実装 `NotificationEventListener.onNotification()` コールバック。
1. TVSDK が `NotificationEvent` オブジェクトをコールバックに追加します。

   >[!NOTE]
   >
   >通知タイプは、 `Notification.Type` enum:

   * `ERROR`
   * `INFO`
   * `WARNING`

## リアルタイムログとデバッグの追加 {#section_9D4004308CB243AD9B50818895D10005}

通知を使用して、ビデオアプリケーションにリアルタイムのログを実装できます。

通知システムを使用すると、診断と検証のログとデバッグ情報を、システムに負荷をかけずに収集できます。

>[!IMPORTANT]
>
>ログバックエンドは実稼動環境の設定に含まれていないので、高負荷トラフィックを処理するとは想定されていません。 実装を完全に完了する必要がない場合は、システムの過負荷を防ぐために、データ送信の効率を考慮します。

次に、通知の取得方法の例を示します。

1. TVSDK 通知システムで収集されるデータに対して定期的にクエリを実行する、ビデオアプリケーション用のタイマーベースの実行スレッドを作成します。
1. タイマーの間隔が長すぎて、イベントリストのサイズが小さすぎる場合、通知イベントリストはオーバーフローします。

   >[!NOTE]
   >
   >このオーバーフローを回避するには、次のいずれかの操作を行います。
   >
   >1. 新しいイベントをポーリングするスレッドを駆動する時間間隔を短くします。
   >
   >1. 通知リストのサイズを増やします。

1. 最新の通知イベントエントリを JSON 形式でシリアル化し、後処理用にリモートサーバーに送信します。

   >[!NOTE]
   >
   >リモートサーバーは、提供されたデータをリアルタイムでグラフィカルに表示できます。

1. 通知イベントの損失を検出するには、イベントインデックスの値の順序にギャップを探します。
