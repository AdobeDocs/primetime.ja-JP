---
description: DRM クライアントエラーは、 TVSDK のクライアントサイドエラーのサブセットです。
title: DRM クライアントエラーメッセージの参照
exl-id: 3d74cb92-c0a7-4eab-91b8-7e60a9c33df4
source-git-commit: 1bc2f6c230c262babf2958c32fee31afcad04c2f
workflow-type: tm+mt
source-wordcount: '5173'
ht-degree: 1%

---

# DRM クライアントエラーメッセージの参照 {#client-error-message-reference}

DRM クライアントエラーは、 TVSDK クライアントサイドエラーのサブセットで、DRM 関連のエラーコードは 3300 ～ 3399 です。

## DRM クライアントエラー {#drm-client-errors}

| エラーコード | ニーモニック | 修正 |
|---|---|---|
| 3300 | 無効な割引券 | ディストリビュータのソフトウェアが行うべきこと： <ul><li> Google Chrome を使用していて、匿名モードで、Flash Playerのバージョンが 11.6 未満の場合は、このエラーが発生する可能性があります。 プレーヤーはブラウザーのバージョン番号を確認し、ユーザーに匿名モードを終了するように通知することをお勧めします。</li><li> ライセンスを再度リクエストします。 リクエストが成功した場合、ログまたはエスカレーションする必要はありません。 リクエストが失敗した場合は、エラーの原因となったコンテンツを記録します。 `subErrorId` には、存在する場合に行エラーが含まれます。</li></ul> ディストリビューターが実行すべきこと： <ul><li> バージョン 11.6 より前の Chrome 以外のFlashで再試行が失敗した場合は、パッケージでエラーが発生している可能性があります。</li><li>問題が特定のコンテンツに固有かどうかを確認し、再パッケージ化します。</li></ul> |
| 3301 | 認証に失敗しました | サーバーがクライアントの認証または認証に失敗しました。<ul><li>ディストリビューターのソフトウェアは、ユーザーの資格情報を再確立するために必要なアクションを実行するか、ユーザーがコンテンツへのアクセスを取得するように指示する必要があります。</li><li>ディストリビュータは、その承認と認証のメカニズムが正しく機能していることを確認する必要があります。 ディストリビューターが認証機能や認証機能を使用する予定がない場合は、問題のあるコンテンツのポリシーで認証が必要かどうかを確認し、ポリシー/ライセンスの不一致の診断を参照してください。</li></ul> このエラーコードについて詳しくは、 [DRM エラー 3301 の原因と解決](https://forums.adobe.com/thread/1277149). |
| 3302 | RequireSSL | Primetime DRM 4.0 以降では、リモートキー URL がスキームとして HTTPS を使用していない場合に、このエラーがiOSでスローされます。 HTTPS が必要です。 <ul><li>ディストリビューターが Primetime DRM バージョン 4 より古いバージョンを使用している場合、またはバージョン 4 以上を使用しているが、プラットフォームがiOSではない場合、ディストリビューターのソフトウェアはエラーをログに記録する必要があります。 このエラーは、iOSでのみスローされます。</li><li>ディストリビューターのソフトウェアが Primetime DRM バージョン 4 以上で、プラットフォームがiOSの場合、ディストリビューターは、使用しているリモートキーサーバーの URL を HTTPS に変更する必要があります。 HTTP のみを使用している場合は、ディストリビューターが HTTPS サーバーを設定する必要がある場合があります。 それ以外の場合は、ディストリビューターは、ログに記録された情報をAdobeに送信し、問題をエスカレーションする必要があります。</li></ul> |
| 3303 | ContentExpired | 表示中のコンテンツは、コンテンツプロバイダーが設定したルールに従って期限切れになっています。  `subErrorId` クライアント固有のエラーまたはラインエラーが含まれます。 <ul><li>ディストリビュータのソフトウェアは、新しい期限切れでないライセンスが使用可能かどうかを確認するために、サーバからライセンスを 1 回取得しようとします。 使用可能なライセンスがない場合や、ライセンスの期限が切れている場合は、ユーザーが新しいライセンスを取得することを許可するか、コンテンツを視聴できないことをユーザーに通知します。</li></ul> コンテンツが、有効期限/終了日が切れたポリシーでパッケージ化され、ライセンスサーバーログが PolicyEvaluationException を報告する場合は、ポリシー終了日が切れたことを示します（サーバーエラーコード 303）。 確認するサーバーのログファイルを確認します。<br>可能な場合は、パッケージ化中に使用したポリシーをチェックして、期限切れかどうかを確認する必要があります。 Java コマンドラインツールは次のとおりです。 <ul><li>java -jar libs/AdobePolicyManager.jar</li><li> detail demo.pol</li><li>配布者は、ライセンスの有効期限が意図したとおりに設定されているかどうかを確認する必要があります。</li></ul> このエラーコードについて詳しくは、 [ライブストリームを使用する AMS/FMS での 3303（コンテンツ期限切れ）](https://forums.adobe.com/thread/1300813) |
| 3304 | AuthorizationFailed | 現在のユーザーは、コンテンツの表示を許可されていません。 別のユーザーとしてログインします。<br>このエラーコードの詳細については、エラーコード 3301 を参照してください。 |
| 3305 | ServerConnectionFailed | ネットワーク遅延またはクライアントがオフラインのため、ライセンスまたはドメインサーバーへの接続がタイムアウトしました。 通常、subErrorId には HTTP リターンコードが含まれます。<ul><li>ディストリビュータのソフトウェアは、正常なサーバへのネットワーク接続を試みる必要があります。 試行に失敗した場合は、ネットワークに再接続するように促します。 成功した場合は、ログに記録します。</li><li>ディストリビュータは、使用中のライセンスとドメインサーバがオンラインで、クライアントのネットワークから見えることを確認する必要があります。</li></ul>このエラーコードについて詳しくは、 [DRM 3305 ServerConnectionFailed の原因と解決方法](https://forums.adobe.com/thread/1284947.) |
| 3306 | ClientUpdateRequired | 現在のクライアントは要求された操作を完了できませんが、更新されたクライアントが要求を完了できる可能性があります。<br>これには、次のような複数の原因が考えられます。<ul><li>このクライアントで使用できない共有ドメインが使用されました。 これは、Chrome で再生が動作する場合に起こりますが、他のブラウザーでは動作しない場合に起こります（逆の場合も同様です）。<br>**注意：** Chrome では、他のブラウザーとは異なる PHDS/PHLS キーを使用します。</li><li>5.0 より前のバージョンのiOSで実行している場合、アプリケーションは複数の DRMSessions を追加しようとしています。</li><li>バージョン 2 のみがサポートされている場合、メタデータのバージョンは 3 以降です。</li><li>ディストリビュータのソフトウェアは、ユーザに警告し、操作を中止する必要があります。 ソフトウェアがアップグレードが使用可能かどうかを判断する方法を持っている場合は、ユーザーに対して、プラットフォームに適した方法でそのアップグレードを指示します。</li><li>共有ドメインが原因で問題が発生した場合、ディストリビューターは、更新されたランタイムまたはライブラリをAdobeで確認する必要があります。 Flashランタイムの場合、ディストリビューターは、アプリケーションで直接アップグレードを強制できます。 ライブラリの場合、ディストリビューターは、更新されたライブラリを取得し、アプリケーションを再構築して、ユーザーにデプロイする必要があります。</li></ul>複数の DRMSessions が原因で問題が発生した場合、ディストリビューターは、複数の DRMSession を追加する前に、アプリケーションを更新してiOSのバージョン番号を確認する必要があります。 または、アプリケーションの配布をiOSバージョン 5 以降に制限することもできます。<br>メタデータのバージョンがバージョン 2 よりも高いために問題が発生した場合は、問題が破損しているメタデータである可能性があります。 メタデータを再構築して結果を確認することができます。 問題が解決しない場合は、問題をログに記録し、Adobeにエスカレーションします。<br>このエラーコードについて詳しくは、 [3306 DRMErrorEvent エラーコードの修正方法](https://forums.adobe.com/thread/1266675). |
| 3307 | InternalFailure | これは通常、Primetime DRM コードのバグを表し、以下のように既知のバグがない限り、予期しないバグです。subErrorId にクライアント固有のエラーまたは行エラーが含まれます。<ul><li>ブラウザが Windows 上で Chrome で、Flashのバージョンが 11.6 (SWFのバージョン 19 以降 ) の場合、ディストリビュータのソフトウェアは、ユーザが情報バーの Deny キーを押し、3368 と同じように扱う必要があります。</li><li>ブラウザーが Chrome でない場合、またはFlashのバージョンが 11.6 でない場合に 3307 が発生すると、ディストリビューターはAdobeにエスカレーションする必要があります。</li></ul>**注意：** 3307:1107296344(FailedToGetBrokerHandle) は、Chrome ブラウザーバージョン 24 ～ 28 で発生する場合があります。 |
| 3308 | WrongLicenseKey | このエラーは、使用中のライセンスに、コンテンツを復号化するための誤ったキーが含まれている場合にスローされます。 subErrorId には、クライアント固有のエラーまたは行エラーが含まれます。<br>このエラーを生成する方法は 2 つだけのようです。<ul><li>お客様は、ライセンスを生成するための標準Adobeツール（例えば、ライセンサーサーバー Java フレームワーク）を変更しました。 この場合、ライセンスに無効なキーが含まれており、どのコンテンツにも対応していない可能性があります。</li><li>お客様が同じライセンス ID の複数のライセンスを発行している。 この場合、クライアント上でコンテンツメタデータに一致する複数のライセンスが使用可能で、Primetime DRM コードによって誤ったライセンスが選択されて使用されます。</li><li>ディストリビュータのソフトウェアは、サーバからライセンスを取得しようとします。</li><li>使用可能なライセンスがない場合や、ライセンスの期限が切れている場合は、ユーザーが新しいライセンスを取得するためのワークフローを提供するか、コンテンツが視聴できないことをユーザーに通知し、問題をログに記録します。</li><li> これが (AIRの ) ドメインバインドコンテンツの場合、ユーザーがドメインに参加する方法を提供します。</li><li>配布者は、次の事項を行う必要があります。</li><li> Primetime DRM ライセンスサーバーのライセンス発行部分がカスタマイズされていないことを確認します。</li><li>すべてのライセンスに対して一意のライセンス ID を発行していることを確認します。</li><li>問題のエスカレーションとAdobe。</li></ul> |
| 3309 | CorruptedAdditionalHeader | ヘッダーが65536バイトを超える場合に発生します。<ul><li>ディストリビュータのソフトウェアは、エラーを発生させたコンテンツの一部をログに記録する必要があります。</li><li>ディストリビューターは、特定のコンテンツでエラーが再現できることを確認する必要があります。 壊れたコンテンツを再パッケージ化します。</li></ul> |
| 3310 | AppIDMismatch | アプリケーションが許可リストに登録されていません。 Android、iOS、またはFlashSWF。<br>subErrorId:1000942;保護されたストリームの再生中にエラーが発生しました。 FAXS エラー。<br>また、クライアントが pubID（アプリの Publisher ID）の空の文字列をレポートしている可能性もあります。<br>**Android:** Android アプリケーションが使用中のアプリケーションと一致しません。 Android のデバッグキーストアのディレクトリは、多くの場合、リリースキーストアのディレクトリとは異なることに注意してください。<br>**iOS:** 詳しくは、 [iOSアプリケーションの許可リスト](/help/programming/tvsdk-3x-ios-prog/ios-3x-drm-content-security/ios-3x-allowlist-your-ios-application.md) TVSDK iOSガイドのドキュメント |
| 3312 | LicenseIntegrity | サーバーからライセンスを再度ダウンロードします。 |
| 3313 | WriteMicrosafeFailed | この問題は、システムがファイルシステムに書き込めない場合に発生します。 subErrorId には、クライアント固有のエラーまたは行エラーが含まれます。<br>Microsoft Windows では、暗号化されたコンテンツに licenseID または policyID が長すぎると、Active X または NPAPI プラグインフラッシュプレーヤーによってエラー 3313 がスローされる場合があります。 これは、Windows のパスの長さの最大値が原因です。 （Pepper プラグインにはこの問題はありません。）<ul><li>ディストリビュータのソフトウェアは、ユーザのディレクトリがロックされていないか、またはフルまたはロックされたボリューム上にあるかをユーザに確認するように求めるプロンプトを表示します。</li><li>配布者がFlashではなくAIRを使用している場合は、パスの長さ制限が原因で問題が発生する可能性があります。 ディストリビューターは、AIRのアプリケーションの名前を妥当なものに短縮する必要があります。</li></ul> |
| 3314 | CorruptedDRMMetadata | このエラーは、多くの場合、コンテンツがテスト用 PKI 証明書でパッケージ化され、プレーヤーが実稼動用 PKI でビルドされたこと、またはその逆で構築されたことを示します。<br>subErrorId には、クライアント固有のエラーまたは行エラーが含まれます。<ul><li>ディストリビューターのソフトウェアは、エラーが発生したコンテンツの一部をログに記録する必要があります。</li><li>ディストリビュータは、特定のコンテンツでエラーが再現できることを確認する必要があります。</li></ul>壊れたコンテンツを再パッケージ化する必要がある場合があります。 |
| 3315 | PermissionDenied | 3305 が意図されているときにこのエラーコードがスローされる可能性がある既知のバグがあります。 詳しくは、エラーコード 3305 を参照してください。<br>AIRによって読み込まれたリモートSWFは、Primetime DRM 機能にアクセスできません。 このエラーコードは、ネットワークアクセス中にセキュリティエラーが発生した場合にもスローされます。 例えば、宛先サーバーが crossdomain.xml を使用して接続するクライアントでない、または crossdomain.xml に到達できないなどです。<br>詳しくは、 [DRM エラー 3315 考えられる根本原因と解決策](https://forums.adobe.com/thread/1266592). |
| 3317 | AAXS_LoadAdobeCPFailed | **重要：** これはまれなエラーであり、通常、実稼動環境では発生しません。<br>エラーが発生した場合は、次のいずれかの操作を実行できます。<ul><li>AIRを使用している場合は、AIRを再インストールします。</li><li>Flash Playerを使用している場合は、AdobeCP モジュールを再度ダウンロードします。</li></ul> |
| 3318 | IncompatibleAdobeCPVersion | **重要：** これはまれなエラーであり、通常、実稼動環境では発生しません。<br>エラーが発生した場合は、次のいずれかの操作を実行できます。<ul><li>AIRを使用している場合は、AIRを再インストールします。</li><li>Flash Playerを使用している場合は、AdobeCP モジュールを再度ダウンロードします。</li></ul> |
| 3319 | MissingAdobeCPGetAPI | **重要：** これはまれなエラーであり、通常、実稼動環境では発生しません。<br>エラーが発生した場合は、次のいずれかの操作を実行できます。<ul><li>AIRを使用している場合は、AIRを再インストールします。</li><li>Flash Playerを使用している場合は、AdobeCP モジュールを再度ダウンロードします。</li></ul> |
| 3320 | HostFailed | **重要：** これはまれなエラーであり、通常、実稼動環境では発生しません。<br>エラーが発生した場合は、次のいずれかの操作を実行できます。<ul><li>AIRを使用している場合は、AIRを再インストールします。</li><li>どちらのソリューションも同期していない可能性があるので、AdobeCP とFlashプレイヤーを再度ダウンロードします。</li></ul>アプリケーションでFlash Playerを更新するだけで、AdobeCP が再度ダウンロードされます。 |
| 3321 | I15nFailed | キーを使用してクライアントをプロビジョニングするプロセスが失敗しました。 subErrorId には、クライアント固有のエラー、サーバー固有のエラー、またはラインエラーが含まれます。<ul><li>ディストリビュータのソフトウェアは、少なくとも 1 回は操作を再試行する必要があります。</li></ul>Windows でGoogle Chrome を使用している場合は、サンドボックスにないプラグインアクセスを許可する方法について説明します。 詳しくは、 Google Chrome のサンドボックスへのアクセスが拒否されたことを参照してください。<ul><li>ディストリビューターは、次のタスクのいずれかを実行する必要があります。</li><li>プラットフォーム間でエラーが一貫している場合は、「Adobe」で問題を拡張する必要があります。</li><li>エラーが Windows 上の Chrome に限定されている場合は、サンドボックス化されていないプラグインへのアクセスをユーザーに許可するように指示します。</li></ul>ディストリビューターは、SWFをバージョン 19 以降に更新する必要があります。 Chrome 固有の 3321 エラーの場合、3368 エラーがスローされます。 エラー 3368 は、ディストリビュータのソフトウェアによってより具体的に処理できます。 この変更は、Chrome 安定チャネルバージョン 26.0.1410.43 で導入されました。<br>**注意：** エラー 3321:1090519056は、FlashPlayer のバージョン 11.1 ～ 11.6 で発生する可能性があります。最新のFlash Playerバージョンにアップグレードすることをお勧めします。<br>詳しくは、 [DRM エラー 3321 原因と解決](https://forums.adobe.com/thread/1277138). |
| 3322 | DeviceBindingFailed | 初期化時に存在した設定とデバイスが一致しないようです。 subErrorId には、クライアント固有のエラーまたは行エラーが含まれます。<br>ディストリビュータのソフトウェアは、次のタスクのいずれかを完了する必要があります。<ul><li>デバイスがFlash Playerを使用しておらず、AIR、iOSなどを使用している場合は、 `callDRMManager.resetDRMVouchers()`.</li></ul>開発フェーズでiOSで問題が発生した場合は、開発者に問い合わせて、サードパーティのプレリリース配布システム（例：HockeyApp）からダウンロードしたビルドと Xcode からローカルビルドを切り替える際に問題が発生しているかどうかを確認します。 HockeyApp から配布されたビルドと Xcode からのビルドを切り替えると、以前のインストールの属性が完全に上書きされるわけではありません。 この状況では、3322 エラーがトリガーする場合があります。<br>この問題を解決するには、デベロッパーが新しいビルドをインストールする前に、デバイスから古いビルドを削除する必要があります。<ul><li>Flash Playerを使用していて、3322 または 3346 エラーコードで使用できない場合は、Adobeの説明に従って、 [Chrome での DRM エラー3322/3346/3368（情報バーの問題）](https://forums.adobe.com/message/5535907#5535907).</li></ul>このエラーは頻繁に発生するとは限りません。 ローミングプロファイルを使用する企業環境で、DRM で保護されたコンテンツをユーザーが表示していた場合、ユーザーが別のマシンからログインすると、エラー 3322 が発生する可能性が高くなります。 可能な場合、ディストリビューターは、ユーザーからこの情報を取得しようとする必要があります。<br>エラーが頻繁に発生する場合は、「 」にエスカレーションしてAdobeします。 Adobeに、ライセンスストアのリセットで問題が解決したかどうかを通知し、エラーが発生しているブラウザをAdobeに知らせる必要があります。<br>詳しくは、次の記事を参照してください。<ul><li>https://forums.adobe.com/message/5520902</li><li>https://forums.adobe.com/message/5535911</li><li>https://forums.adobe.com/message/5748618</li><li>https://forums.adobe.com/message/6061165</li></ul> |
| 3323 | CorruptGlobalStateStore | DRM クライアントが使用するファイルが予期せず変更されました。 subErrorId には、クライアント固有のエラーまたは行エラーが含まれます。<ul><li>ディストリビュータのソフトウェアは、Error code 3322 と同じ方法でユーザをリセットするように指示する必要があります。</li><li>GlobalStore が、ユーザーベースのハードドライブの予想される障害率を超える速度で失敗する場合は、問題をAdobeにエスカレートします。</li></ul> |
| 3324 | MachineTokenInvalid | ライセンスサーバーが証明書失効リスト (CRL) サーバーに接続して CRL ファイルを更新できないか、クライアントコンピューターがライセンスサーバーによって失効したライセンス/認証を要求しています。<br>サーバーログで、エラーコード 111 は isMachineTokenInvalid です。 ただし、クライアントレベルでは、エラーコード 111 はエラーコード 3324 に変換されます。<br>DRM ライセンスサーバー管理者は、お客様のライセンスサーバーがAdobeCRL ファイルを取得できたかどうかを確認する必要があります。 お客様が Tomcat を使用している場合、お客様は tomcat/temp/ディレクトリを調べて、4 つの.CRL ファイルがあるかどうかを確認できます。<ul><li>ファイルがこのディレクトリにある場合は、Windows エクスプローラーでファイルをダブルクリックし、CRL ビューアアプリケーションで、期限切れのファイルがあるかどうかを確認します。</li><li>tomcat/temp/にファイルがない場合は、このライセンスサーバーがAdobeの CRL サーバーに到達できなかったと見なされます。ファイアウォールまたはルーティングの問題が原因です。</li></ul>詳細については、「ファイアウォール規則」を参照してください。<br>CRL ファイルが使用できない場合や、期限切れの場合は、ライセンスサーバーにアクセスできるかどうかを確認する必要があります。 お客様のライセンスサーバーでネットワークスニファー（Charles や Wireshark など）を開き、サーバーを再起動して、クライアントにサーバーからライセンスを要求してもらいます。<br>ネットワークトラフィックを観察して、次の URL エンドポイントへの呼び出しが成功したかどうかを確認できます。<br>**注意：** 次の CRL の URL をブラウザーに入力して、各ファイルを手動でダウンロードできるかどうかを確認することもできます。<ul><li>[https://crl2.adobe.com/Adobe/FlashAccessIndividualizationCA.crl](https://crl2.adobe.com/Adobe/FlashAccessIndividualizationCA.crl)</li><li>[https://crl2.adobe.com/Adobe/FlashAccessIntermediateCA.crl](http://crl2.adobe.com/Adobe/FlashAccessIntermediateCA.crl)</li><li>[https://crl2.adobe.com/Adobe/FlashAccessRootCA.crl](http://crl2.adobe.com/Adobe/FlashAccessRootCA.crl)</li><li>[https://crl3.adobe.com/AdobeSystemsIncorporatedFlashAccessRuntime/LatestCRL.crl](http://crl3.adobe.com/AdobeSystemsIncorporatedFlashAccessRuntime/LatestCRL.crl)</li></ul>ファイアウォール規則が開いていて、現在の 3324 エラーがない場合は、一時的なネットワークの問題が発生していた可能性があります。 お客様のサーバーログ（おそらく/tomcat/logs/ディレクトリにある）を調べて、ライセンスサーバーが証明書失効リストを取得しようとした際にエラーが発生したかどうかを確認します。<br>**注意：** CRL ファイルを更新する際に、クライアントの大量のエラー（またはバースト）が 3324 エラーを一時的なネットワークの問題に報告した場合に、エラーが発生することがあります。 ネットワークの問題が解決されると、3324 の問題も解決されました。<br>tomcat/temp/ディレクトリに 4 つの CRL ファイルがすべて存在し、クライアントで 3324 エラーが発生する場合は、CRL ファイルへのファイルアクセスに問題が生じる可能性があります。<br>この問題を解決するには、ログを確認し、既存の CRL ファイルをパージします。<br>サーバーに問題がない場合は、エラーコード 3322 の説明に従って、リセットするようにユーザーに促します。 |
| 3325 | CorruptServerStateStore | DRM クライアントが使用するファイルが予期せず変更されました。 subErrorId には、クライアント固有のエラーまたは行エラーが含まれます。<ul><li>AdobeCP が内部で問題のあるサーバーストアを削除したので、ディストリビューターのソフトウェアは操作を再試行する必要があります。再試行は成功します。 再試行が失敗した場合は、問題を記録します。</li><li>再試行がユーザーベースのハードドライブの予想される障害率を超える速度で失敗する場合は、問題をAdobeにエスカレートします。</li></ul> |
| 3326 | StoreTamperingDetected | ライセンスストアが改ざんまたは破損しているため、使用できなくなりました。<br>ディストリビュータのソフトウェアは、エラーコード 3322 で説明されているように、ユーザにリセットを指示する必要があります。 |
| 3327 | ClockTamperingDetected | 時計を修正するか、Authn/Lic/Domain ライセンスを再度取得します。 |
| 3328 | ServerErrorTryAgain | これは、サーバーがクライアントからのリクエストを完了できなかったサーバー側のエラーです。 このエラーは、例えば、サーバーがビジー状態、HTTP/500、サーバーが要求を復号化するために必要なキーを持っていない場合などに発生する可能性があります。<br>クライアントでは、何が問題を引き起こしたかを判断する方法はありません。 お客様は、Primetime DRM サーバーログ（通常は AdobeFlashAccess.log と呼ばれます）を確認して、問題が発生したかどうかを判断する必要があります。 問題を示す非常に記述的なスタックトレースがログに常に記録されます。 subErrorId には、サーバー固有のエラーまたは行エラーが含まれます。<br>ディストリビューターは、サーバーログを調べて、このエラーを送信しているサーバーを特定する必要があります。 3328 エラーにサブエラーコード 101 が含まれる場合、サーバーはリクエストを復号化できません。 お客様は、ライセンスサーバーにインストールされているライセンス/トランスポートサーバーの証明書が、パッケージ化時に使用される証明書と一致し、対応していることを検証する必要があります。<br>また、参照実装を使用している場合は、プライマリ証明書と追加証明書が指定されている flashaccessrefimpl.properties ファイルに入力ミスがないことを確認する必要があります。<br> |
| 3329 | ApplicationSpecificError | アプリケーション固有のサブエラーコードが Primetime DRM に認識されません。 subErrorId には、パブリッシャーがカスタマイズしたライセンスサーバーからのサーバー固有のエラーが含まれます。 サーバーがアプリケーション固有の名前空間でエラーを返しました。 |
| 3330 | NeedAuthentication | このエラーは、ライセンスを取得する前にクライアントに認証を求めるようにコンテンツが設定されている場合に発生します。<ul><li>ディストリビュータのソフトウェアは、ユーザを認証し、再度ライセンスを取得する必要があります。 サービスが認証を使用する意図がない場合は、このエラーの原因となっているコンテンツの識別情報をログに記録します。</li><li>コンテンツが認証を必要とするように設定されていない場合を除き、このエラーではエスカレーションを必要としないでください。 この場合、問題のあるコンテンツを適切なポリシーで再パッケージ化します。 コンテンツが正しくパッケージ化されている場合は、ポリシーの診断/ライセンスの不一致を参照してください。</li></ul> |
| 3331 | ContentNotYetValid | 取得したライセンスはまだ有効ではありません。 この問題を解決するには、クライアントクロックが正しく設定されていないかどうかを確認します。 クライアントクロックを設定するには、コンテンツを再パッケージ化するか、ライセンスサーバの設定を変更します。 |
| 3332 | CachedLicenseExpired | サーバーからライセンスを再度取得します。 |
| 3333 | PlaybackWindowExpired | ポリシーの期限が切れるまで、ユーザーに対してコンテンツの再生ができないことを通知する必要があります。 |
| 3334 | InvalidDRMPlatform | 例えば、コンテンツプロバイダーがプラットフォーム上の Primetime DRM に対してコンテンツを拒否するように Primetime DRM を設定したか、共有ドメインバインドライセンスが、別のパーティション用の共有ドメイントークンにバインドされているので、このプラットフォームではコンテンツを再生できません。<br>適切な（CDM 機能ゲーテッド）パッケージャーの証明書を使用してコンテンツがパッケージ化されなかった場合、CDM はこのエラーをスローする可能性があります。 詳しくは、 CDM 機能ゲートを参照してください。<br>コンテンツが間違った PHDS/PHLS 証明書でパッケージ化されている場合、コンテンツは Chrome で機能しますが、他のブラウザーでは機能しない（またはその逆も同様）可能性があります。<br>**注意：** これは、Chrome が異なる PHDS/PHLS 証明書を使用するからです。<br>どの証明書が使用されているかを確認するには、コンテンツメタデータの詳細をダンプし、受信者の証明書を探します。 |
| 3335 | InvalidDRMVersion | この問題を解決するには、次のいずれかのタスクを実行します。<ul><li>AIRをアップグレード</li><li>Flash Playerの場合は、AdobeCP モジュールをアップグレードして、再生を再試行してください。</li></ul> |
| 3336 | InvalidRuntimePlatform | 例えば、コンテンツプロバイダーがプラットフォーム上の FP/AIRに対してコンテンツを拒否するように Primetime DRM を設定しているので、このプラットフォームではコンテンツを再生できません。 |
| 3337 | InvalidRuntimeVersion | これは、コンテンツまたはサーバーが、FlashまたはAIRランタイムの特定のバージョンへの再生を拒否するように設定されている場合に発生します。<ul><li>FlashをアップグレードできるオペレーティングシステムにFlashがある場合は、ディストリビュータのソフトウェアが、ユーザーに対してユーザーに対してのアップグレードを促し、再試行する必要があります。 それ以外の場合は、別のマシンを使用するようにユーザーに通知します。</li><li>エラー 3337s の疑いがある場合は、特定のコンテンツに対してエラーが発生しているかどうかを特定し、そのコンテンツを再パッケージ化します。 コンテンツが正しくパッケージ化されている場合は、ポリシーの診断/ライセンスの不一致を参照してください。</li></ul> |
| 3338 | UnknownConnectionType | 接続の種類を検出できません。このポリシーでは、[ 出力保護 ] をオンにする必要があります。 この問題は、デジタルまたはアナログ出力の保護を必要とするようにコンテンツがパッケージ化されている場合にのみ発生します。<br>バージョン 11.8.800.168 より前のFlash Playerのバージョンで問題が発生し、ポリシーでコンテンツ保護が USE IF AVAILABLE と示されたコンテンツで、エラー 3338 が発生することがありました。 この問題は、バージョン 11.8.800.168 以降で修正されました。<ul><li>ディストリビュータのソフトウェアは、出力保護を必要としないコンテンツのバリアント（例えば、HD ストリームの SD バリアント）を選択します。 エラー 3338 が USE_IF_AVAILABLE コンテンツで発生する場合は、プレーヤーのバージョン番号を確認します。 プレーヤーのバージョンが 11.8.800.168 未満の場合は、Flash Playerをアップグレードするようにユーザーに通知します。 11.8.800.168 を超えるバージョンでエラー 3338 が発生する場合は、どのコンテンツがエラーの原因となったかを記録します。</li><li>ディストリビュータは、このエラーの原因となっているコンテンツを確認し、コンテンツのポリシーがアナログおよびデジタル出力に対して NO_PROTECTION または USE_IF_AVAILABLE を設定していることを検証する必要があります。 コンテンツが NO_OUTPUT または REQUIRED で誤ってパッケージ化された場合は、コンテンツを再パッケージ化します。 コンテンツが正しくパッケージ化されている場合は、ポリシーの診断/ライセンスの不一致を参照してください。 それ以外の場合は、Adobeにエスカレーションします。</li></ul>詳しくは、 [DRM ポリシーが USE_IF_AVAILABLE に設定されている場合、予期しない 338 エラーが発生します](https://forums.adobe.com/message/5518688)? |
| 3339 | NoAnalogPlaybackAllowed | アナログデバイスで再生できません。 問題を解決するには、デジタルデバイスを接続します。 |
| 3340 | NoAnalogProtectionAvail | 接続されたアナログ外部ディスプレイデバイス（モニタ/TV）に正しい機能がないため（例えば、デバイスに Macrovision や ACP がない）、コンテンツを再生できません。 |
| 3341 | NoDigitalPlaybackAllowed | デジタルデバイスでコンテンツを再生できません。 |
| 3342 | NoDigitalProtectionAvail | 接続されているデジタル外部ディスプレイデバイス（モニタ/TV）に正しい機能がない。 例えば、デバイスに HDCP がないとします。 |
| 3343 | 内部エラー | このエラーは、現在、新しいバージョンのエラーがリリースされた後に最初に発生することが知られています。Flash これは、Flashが開いている間にFlashがアップグレードされ、ブラウザーが再起動するまでFlashの状態が悪くなるためです。<ul><li>ディストリビュータのソフトウェアは、次のタスクを完了する必要があります。</li><li>ユーザーは、すべてのブラウザーを閉じるか終了してから再度開くことをお勧めします。</li><li>バージョンのFlashが最新かどうかを確認します。</li></ul>バージョンが最新でない場合は、アップグレードをお客様に通知し、ブラウザーのすべてのタブを閉じてから再度開きます。<ul><li>ブラウザーの再起動が成功した後にエラーが発生したと思われる場合は、Adobeにエスカレーションします。 新しいバージョンがリリースされた場合は、Adobeサポートに連絡して、バックグラウンド更新の問題が修正されたかどうかを確認することをお勧めします。</li></ul> |
| 3344 | MissingAdobeCPModule | FlashまたはAIRの一部が正しくインストールされませんでした。<br>この問題を解決するには、次のいずれかのタスクを実行します。<ul><li>AIRの場合、ユーザーはAIRをアンインストールして、再びインストールする必要があります。</li><li>Flash Playerの場合は、System.update を呼び出します。</li></ul> |
| 3346 | 移行に失敗しました | ディストリビュータのソフトウェアは、次のいずれかを実行する必要があります。<ul><li>AIRの場合は、にお電話ください `DRMManager.resetDRMVouchers()`.</li><li>エラー 3322 または 3346 が原因でFlashを使用できない場合、ユーザーは次の場所に移動する必要があります。 [https://forums.adobe.com/message/5535907#5535907](https://forums.adobe.com/message/5535907#5535907) およびAdobe記事の指示に従って、DRM ライセンスストアをプログラムでリセットします。</li><li>このエラーが頻繁に発生する場合、ディストリビューターは、頻度プレーヤーのバージョンとブラウザーのバージョンに関する詳細をAdobeに提供する必要があります。</li></ul>詳しくは、次のフォーラム記事を参照してください。<ul><li>[Chrome での DRM エラー3322/3346/3368（情報バーの問題）](https://forums.adobe.com/message/5520902)</li><li>[ハードウェア変更後の 3322 または 3346 エラー](https://forums.adobe.com/message/5535911)</li></ul> |
| 3347 | InsufficientDeviceCapabilities | このエラーの主な意味は、ライセンスには、クライアントの DRM 証明書が満たせないと示す制約が含まれていることです。 クライアントの DRM 証明書が発行される際に、次の「ハードウェア機能」が定義されます。<ul><li>**非ユーザーアクセスバス。** If **true**&#x200B;では、復号化されたメディアは、バスや、アプリケーションがアクセスできるメインメモリには送られません。 If **false**&#x200B;の場合、復号化後にコンテンツにアクセスできる可能性があります。</li><li>**信頼のハードウェアルート。** If **true**：デバイス上で起動時に読み込まれるすべてのソフトウェアが、ハードウェアでのみ使用可能なキーまたはダイジェストに対して検証されました。 クライアントの DRM 証明書に対してライセンスが開かれ、失敗が直ちに発生すると、これらの両方の制約がクライアント側でチェックされます。 これらの制約は、ライセンスを発行する前に、サーバー側で確認することもできます。</li></ul>このエラーの二次的な意味は、ライセンスに「Jailbreak Enforcement」ポリシーが設定され、デバイスで jailbreak が検出されたことです。 このチェックは、クライアント側で定期的に行われ、サーバー側ではチェックできません。<br>ディストリビューターは、ポリシーを更新し、制限を解除できます。 デバイス機能ポリシーの場合は、-devCapabilitiesV1flag を指定し、引数を指定せずに policy update コマンドを発行します。 jailbreak 強制の場合 setpolicy.enforceJailbreak=false。 |
| 3348 | HardStopIntervalExpired | ハードストップ間隔が期限切れです。 |
| 3349 | ServerVersionTooHigh | サーバーは、クライアントでサポートされている最も高いバージョンよりも高いバージョンで実行されています。 |
| 3350 | ServerVersionTooLow | サーバーは、クライアントがサポートする最小バージョンよりも低いバージョンで実行されています。 |
| 3351 | DomainTokenInvalid | ドメイントークンが無効でした。 この問題を解決するには、ドメインに再度登録してください。 |
| 3352 | DomainTokenTooOld | ドメイントークンが、ライセンスで必要なトークンより古いものです。 この問題を解決するには、ドメインに再度登録します。 |
| 3353 | DomainTokenTooNew | ドメイントークンが、ライセンスで必要なトークンより新しいです。 |
| 3354 | DomainTokenExpired | ドメイントークンの有効期限が切れました。 |
| 3355 | DomainJoinFailed | ドメインの参加に失敗しました。 |
| 3356 | NoCorrespondingRoot | V3 リーフライセンスのルートライセンスが見つかりませんでした。 |
| 3357 | NoValidEmbeddedLicense | 有効な埋め込みライセンスが見つかりませんでした。 |
| 3358 | NoACPProtectionAvailable | 接続されたアナログデバイスに ACP 保護がないため、再生できません。 |
| 3359 | NoCGSMAProtectionAvailable | 接続されたアナログデバイスに CGMSA 保護がないため、再生できません。 |
| 3360 | DomainRegistrationRequired | コンテンツにはドメイン登録が必要です。 |
| 3361 | NotRegisteredToDomain | 指定されたメタデータのドメインにコンピューターが登録されていません。 |
| 3362 | OperationTimeoutError | 非同期操作に、設定された maxOperationTimeout より長い時間がかかりました。<br>**注意：** このエラーコードは、iOS DRMNative Framework からのみ返されます。 |
| 3363 | UnsupportedIOSPlaylistError | M3U8 プレイリストにサポートされていないコンテンツが含まれているか、必要な#EXT-X-FAXS-CM DRM メタデータオブジェクトがありません。<br>**注意：** このエラーコードは、iOS DRMNative Framework からのみ返されます。 |
| 3364 | NoDeviceId | フレームワークがデバイス ID をリクエストしましたが、返された値は空でした。<br>フレームワークがデバイス ID をリクエストしましたが、返された値は空でした。<br>Chrome ブラウザー設定では、ユーザーは **保護されたコンテンツの識別子を許可** チェックボックスをオンにします。 |
| 3365 | IncognitoModeNotAllowed | このブラウザーとプラットフォームの組み合わせでは、匿名モードでの DRM 保護された再生は許可されません。<br>ディストリビュータのソフトウェアは、ユーザに匿名モードを終了するか、別のブラウザを使用するように通知する必要があります。 詳しくは、 [DRM エラー 3365 の原因と解決](https://forums.adobe.com/thread/1266622). |
| 3366 | BadParameter | ホストランタイムは、無効なパラメーターを持つ Primetime DRM ライブラリを呼び出しました。 |
| 3367 | BadSignature | M3U8 マニフェストの署名に失敗しました。<br>**注意：** このエラーコードは、iOS DRMNative Framework または AVE によってのみ返されます。 |
| 3368 | UserSettingsNoAccess | ユーザーが操作をキャンセルしたか、システムへのアクセスを許可しない設定を入力しました。<br>このエラーは、バージョン 19 以降のSWFでのみ発生します。 後方互換性を保つために、エラーコード 3321 がSWF18 以前でスローされます。<br>配布者のソフトウェアは、ユーザーに対し、サンドボックス化されていないプラグインアクセスを許可する方法の説明を提供する必要があります。 詳しくは、 [Chrome での DRM エラー3322/3346/3368（情報バーの問題）](https://forums.adobe.com/message/5520902). |
| 3369 | InterfaceNotAvailable | 必要なブラウザーインターフェイスを使用できません。 この問題は Pepper でのみ発生します。 ブラウザープラグインとブラウザーバージョンのFlashが一致しない可能性があります。<br>配布者のソフトウェアは、ユーザーに対し、最新バージョンのブラウザがインストールされていることを確認するよう指示する必要があります。<br>このエラーの発生が増加し、リリースされるブラウザの更新に対応している場合は、Adobeにエスカレートします。 |
| 3370 | ContentIdSettingsNoAccess | ユーザーが **保護されたコンテンツ設定の識別子を許可します。**<br>**注意：** このエラーは、Pepper バージョン 13.0.0.x 以降で発生しました。<br>ディストリビューターのソフトウェアやオペレーションチームは、ユーザーに対し、 **保護されたコンテンツの識別子を許可** 設定。<br>詳しくは、 [https://forums.adobe.com/message/6518323#6518323](https://forums.adobe.com/message/6518323#6518323). |
| 3371 | NoOPConstraintInPixelConstraints | ライセンスの出力保護制約に基づく解決の形式が正しくありません。<br>ディストリビュータのソフトウェアは、エラーメッセージを表示する必要があります。 ユーザーに、問題をコンテンツのタイトルでディストリビューターに報告するように依頼します。<br>ディストリビューターは、コンテンツを有効なポリシーで再パッケージ化する必要があります。 |
| 3372 | ResolutionLargerThanMaxResolution | コンテンツの解像度が、出力保護制約で指定された最大解像度を超えています。<br>配布者の運用チームがログでこのエラーを確認した場合は、解決に基づく出力保護ポリシーを確認し、必要に応じてコンテンツを再パッケージ化する必要があります。<br>解像度ベースの出力保護の詳細については、「解像度ベースの出力保護について」を参照してください。 |
| 3373 | DisplayResolutionLargerThanConstrain | コンテンツの解像度が、現在アクティブな出力保護制約で指定された解像度よりも大きくなっています。<br>配布者の運用チームがログでこのエラーを確認した場合は、解決に基づく出力保護ポリシーを確認し、必要に応じてコンテンツを再パッケージ化する必要があります。<br>解像度ベースの出力保護の詳細については、「解像度ベースの出力保護について」を参照してください。 |
| 3374 | ClientCommProcessFailed | クライアント側の通信処理中に失敗しました。例えば、リクエストの生成、応答の処理、認証トークンが正しくありません。 |

## 3328 のサブエラーコードマッピング {#suberror-code-mapping-for-3328}

| SubError | 説明 |
|---|---|
| 100-1000 | Adobeのライセンスサーバーによって予約 |
| 10000 - 20000 | Adobeの個人化サーバーによって予約 |
| 20100-21000 | AdobeXbox キーサーバー用に予約。<br>この範囲のエラーは、次のように、一般的な Primetime DRM サーバー SDK エラーメッセージリファレンスにマッピングされます。<br>Xbox キーサーバーエラー= DRM サーバーエラー+ 0x20000<br>例えば、Xbox Keyserver Error 20202は DRM Server SDK Error 202 と同じです |
| 100xxxx | クライアントサブエラーコード用に予約 |
