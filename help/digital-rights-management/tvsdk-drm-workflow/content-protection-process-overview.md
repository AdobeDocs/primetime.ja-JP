---
title: ライセンス取得プロセスの概要
description: ライセンス取得プロセスの概要
copied-description: true
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '339'
ht-degree: 0%

---

# ライセンス取得プロセスの概要{#license-acquisition-process-overview}

Primetime DRM の保護下でアプリケーションでコンテンツを再生できるようにする方法については、ActionScript3(AS3) のコードサンプルを使用して、以降の節で説明します。 モバイルプラットフォーム上のネイティブアプリに関する、このワークフローからの微妙な違いについては、必要に応じて説明します。 Primetime DRM ワークフローは、すべてのプラットフォームで非常に似ていますが、AS3 コードを理解していれば、他のプラットフォームを推定するのは非常に簡単です。

**ライセンス取得プロセス：**

1. 保護されたコンテンツの DRM メタデータを取得します。
1. ライセンスがローカルで使用可能かどうかを確認します。

   * ライセンスがローカルで使用可能な場合は、ライセンスを読み込んで手順 6 に進みます。
   * ライセンスがローカルで使用できない場合は、手順 3 に進みます。

1. 認証が必要かどうかを確認します。

   * 認証が必要な場合は、ユーザーから認証資格情報を取得し、ライセンスサーバーに渡します。
   * 認証が必要でない場合は、手順 6 に進みます。

1. デバイスドメインの登録が必要な場合は、デバイスドメインに参加します。
1. 認証が必要で完了した場合は、ライセンスサーバからライセンスをダウンロードします。
1. コンテンツを再生します。

エラーが発生せず、ユーザーがコンテンツの表示を正常に承認した場合、Primetime は `DRMStatusEvent` オブジェクトが生成され、アプリケーションが再生を開始します。 The `DRMStatusEvent` オブジェクトには、ユーザーのポリシーと権限を識別する、関連するライセンス情報が格納されます。 例： `DRMStatusEvent` は、コンテンツをオフラインで使用できるかどうか、ライセンスの有効期限が切れた場合などに関する情報を保持します。

アプリケーションは、ライセンス情報を使用して、ユーザーにポリシーのステータスを通知できます。 例えば、ユーザーがコンテンツをステータスバーに表示する残り日数を表示できます。 ユーザーがオフラインアクセスを許可されている場合、ライセンスがキャッシュされ、暗号化されたコンテンツがユーザーのマシンにダウンロードされます。 ライセンスのキャッシュ期間で定義された期間、コンテンツにアクセスできるようになります。 イベントの detail プロパティに含まれる値： `DRM.voucherObtained`. アプリケーションは、コンテンツをオフラインで使用できるように、コンテンツをローカルに保存する場所を決定します。 また、 `DRMManager` クラス。
