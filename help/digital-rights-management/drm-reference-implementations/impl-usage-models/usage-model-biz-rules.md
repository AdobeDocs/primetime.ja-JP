---
title: 使用状況モデルデモビジネスルール
description: 使用状況モデルデモビジネスルール
copied-description: true
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '251'
ht-degree: 0%

---

# 使用状況モデルデモビジネスルール{#usage-model-demo-business-rules}

ユーザーがライセンスをリクエストすると、参照実装サーバーは、クライアントが送信したメタデータを確認し、 `RI_UsageModelDemo` プロパティ。 その場合、サーバーは次のビジネスルールを適用します。

* いずれかの DRM ポリシーで認証が必要な場合：

   * リクエストに有効な認証トークンが含まれている場合は、顧客データベーステーブルでユーザーの名前を検索します。

     ユーザーの名前が見つからない場合は、次のタスクを実行します。

      * 次の場合、 `Customer.IsSubscriber` プロパティはに設定されます。 `true`の場合は、 *`Subscription`* 使用状況モデルを作成し、ユーザーに送信します。

      * 内のレコードを検索 `CustomerAuthorization` ユーザー名とコンテンツ ID のデータベーステーブル。

     ユーザーのレコードを見つけるには、次のタスクを実行します。

      * 次の場合、 `CustomerAuthorization.UsageType` プロパティはに設定されます。 `DTO`、DTO 使用モデルのライセンスを生成し、ユーザーに送信します。

      * 次の場合、 `CustomerAuthorization.UsageType` プロパティはに設定されます。 `VOD`、VOD 使用モデルのライセンスを生成し、ユーザーに送信します。

     匿名アクセスを許可する DRM ポリシーがない場合は、次のタスクを実行します。

      * リクエストに有効な認証トークンがない場合は、「認証が必要です」というエラーを返す必要があります。
      * それ以外の場合は、「許可されていません」エラーが返されます。

* DRM ポリシーの 1 つで匿名アクセスが許可されている場合は、広告資金の使用モデルのライセンスを生成し、ユーザーに送信します。
