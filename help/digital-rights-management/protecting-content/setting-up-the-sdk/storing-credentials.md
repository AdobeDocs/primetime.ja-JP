---
title: 資格情報の保存
description: 資格情報の保存
copied-description: true
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '396'
ht-degree: 0%

---

# 資格情報の保存{#storing-credentials}

Primetime DRM SDK は、ハードウェアセキュリティモジュール (HSM) の使用や PKCS12 ファイルとしての使用など、様々な方法で資格情報を保存できます。 秘密鍵が必要な場合、SDK は秘密鍵証明書（公開鍵証明書と関連する秘密鍵）を使用します。 例えば、パッケージャーは秘密鍵証明書を使用してメタデータに署名し、ライセンスサーバーは秘密鍵証明書を使用して、ライセンスサーバーまたはトランスポート公開鍵で暗号化されたデータを復号化します。

コンテンツとライセンスサーバーのセキュリティを確保するために、秘密鍵を慎重に保護する必要があります。 PKCS12 は、パスワードで暗号化された秘密鍵証明書を保存するための標準のアーカイブファイル形式です。 （PKCS12 ファイル自体を暗号化して署名することもできます）。 ファイル拡張子 [!DNL .pfx] は、通常、この形式をサポートするファイルに使用されます。

>[!NOTE]
>
>Adobeでは、セキュリティを最大限に高めるために HSM を使用することをお勧めします。
>
>詳しくは、 *Adobe Primetime DRM Secure Deployment Guidelines* ガイド。

>[!NOTE]
>
>Java 1.7 以降、64 ビット Sun Java for Windows は、Primetime DRM が HSM デバイスとの通信に必要とする PKCS11 インターフェイスをサポートしなくなりました。 HSM を使用する場合は、32 ビットバージョンの Java を使用するか、完全な PKCS11 インターフェイスをサポートする JDK を使用する必要があります。

HSM に秘密鍵を保持し、Primetime DRM SDK を使用して、HSM から取得した秘密鍵証明書を渡すことができます。 HSM に保存されている秘密鍵証明書を使用する場合は、HSM と通信できる JCE プロバイダーを使用して、秘密鍵へのハンドルを取得する必要があります。 次に、公開鍵を含む秘密鍵ハンドル、プロバイダー名、証明書をに渡す必要があります。 `ServerCredentialFactory.getServerCredential()`.

SunPKCS11 プロバイダは、HSM 上の秘密鍵にアクセスするために使用できる JCE プロバイダの一例です。 HSM には、JCE プロバイダーにバンドルされている Java SDK にも含まれているものもあります。

このプロバイダの使用方法については、Sun Java のマニュアルを参照してください。

PEM と DER は、公開鍵証明書をエンコードする方法です。 PEM は Base-64 エンコーディングで、DER はバイナリエンコーディングです。 証明書ファイルは通常、拡張子を使用します [!DNL .cer], [!DNL .pem]または [!DNL .der]. 証明書は、公開鍵のみが必要な場合に使用されます。 コンポーネントで公開鍵のみを使用する必要がある場合は、そのコンポーネントに、秘密鍵証明書または PKCS12 ファイルの代わりに証明書を指定することをお勧めします。
