---
title: TVSDK 3.13 for iOSリリースノート
description: TVSDK 3.13 for iOSリリースノートでは、TVSDK iOS 3.13の新機能や変更点、解決済みおよび既知の問題、デバイスの問題について説明します。
translation-type: tm+mt
source-git-commit: d1cf8a05172c04655c8a7c76ce116c8f7be61ec9
workflow-type: tm+mt
source-wordcount: '7713'
ht-degree: 0%

---


# TVSDK 3.13 iOS向けリリースノート{#tvsdk-for-ios-release-notes}

TVSDK 3.12 for iOSリリースノートでは、TVSDK iOS 3.12の新機能や変更点、解決済みおよび既知の問題、デバイスの問題について説明します。

## システムとソフトウェアの要件{#system-software-requirements}

iOS 3.12をダウンロードする前に、ハードウェア、オペレーティングシステム、アプリケーションのバージョンが次の要件を満たしていることを確認してください。

オペレーティングシステム：iOS 8.0以降。

## iOS TVSDK 3.13

このリリースでは、LIVE、VODおよびFERストリーム用のDEMUXED &#39;HLS/CMAF&#39;（プリロール、ミッドロールおよびポストロール）広告のサポートが導入されています。

お客様から報告された問題の修正については、[解決された問題](#resolved-issues)を参照してください。 制限については、[既知の問題と制限](#known-issues-and-limitations)を参照してください。

### 以前のリリース{#whats-new-previous}の新機能および修正点

**iOS TVSDK 3.12**

15分間の再生後にライブストリームが失敗する問題を修正しました。

**iOS TVSDK 3.11**

`isFallbackOnInvalidCreativeEnabled`とメソッド`customParams`によってアプリケーションがクラッシュするお客様の問題に対して修正を行いました。

**iOS TVSDK 3.10**

* ネットワークが使用できない場合にTVSDKプレイヤーが`PTMediaPlayerStatusError`通知を実行しない問題を修正しました。

**iOS TVSDK 3.9**

* VTTのサブタイトルの再生に失敗し、アプリがフリーズする問題を修正しました。

* iOS TVSDK 3.9には、更新された個別化トランスポート証明書が含まれていました。

**iOS TVSDK 3.8.0.83修正プログラム**

修正プログラムで、更新された個別化トランスポート証明書が含まれていました。

**iOS TVSDK 3.8**

iOS 13への準拠と、iOS 13 UIWebView APIの非推奨の処理を行いました。

**iOS TVSDK 3.7**

大量の広告解決要求が同時に行われた場合に再生が停止するシナリオの修正プログラムです。

**iOS TVSDK 3.6**

**クラスのvastXMLプロパティの修正`PTNetworkAdInfo`**

vastXMLプロパティが正しく設定されず、nil値を返していた問題を修正しました。

**iOS TVSDK 3.5**

**バックグラウンドオーディオの有効化**

*バックグラウンドに切り替わったときにオーディオの再生を続行するようにアプリを設定します。*

この機能を有効にするには、PTMediaPlayerクラスに追加された新しいAPI `audioPlaybackInBackground`を設定する必要があります。 このAPIを有効にすると、アプリでバックグラウンドオーディオを再生できるようになります。

**iOS TVSDK 3.4.0.19（修正プログラム）**

このリリースでは、広告のフェイルオーバーシナリオで発生するアプリケーションのクラッシュに関する修正が行われています。

**iOS TVSDK 3.4**

**広告解決タイムアウト**

* TVSDK 3.4では、広告全体の解決とマニフェストのダウンロードに対してタイムアウト値を設定できるようになりました。 指定のタイムアウト内に、一部の広告が    解決済みの場合、TVSDKは残りの広告を再生します。

* PTAdMetadata:adRequestTimeout APIは非推奨となり、削除されます。 デフォルト値は35秒に設定されています。

* PTAdMetadataClassに2つの新しい代替APIが導入されました。adResolutionTimeout — 広告解決呼び出し全体のタイムアウト                adManifestTimeout — 広告マニフェストのダウンロードのタイムアウト。

**売上高の最適化**

TVSDKは、広告挿入ワークフローに関連する問題のある領域を識別して、選択した分析エンドポイントにレポートできるようになりました。

**バージョン3.3**

TVSDK 3.3は、iOS 11 SDKに準拠しています。 非推奨のAPIはすべて、適切な代替方法に置き換えられました。

**バージョン3.2**

**追加のログのサポート（第2段階）**

次の場合にエラー通知のサポートを追加しました。

* 広告のHLSバージョンは、コンテンツよりも高いレベルを使用します。

* オーディオ専用のバリアントは除外されます。

* VAST/VMAP要求が失敗しました。

**バージョン3.1**

* **追加のログの**
サポート広告の再生に失敗した場合の詳細な通知のサポートを追加しました。

* **FairPlayで暗号化されたCMAFストリームの**
サポートFairPlayで暗号化されたCMAFストリームをAVCコーデックでの再生でサポートするようになりました。

**バージョン3.0.1**

このリリースでは、新機能や機能強化はありません。

**バージョン3.0**

* TVSDK 3.0は、HEVCストリームをサポートします。

* ジャストインタイム — 広告マーカーに近い広告の解決

JITを有効にするために、アプリレベルのインターフェイスにブール型の`enableDelayAdLoading`プロパティが追加されました。 `enableDelayAdLoading`がNOの場合、`setadMetadata.delayAdLoading`はTrue（PTAdMetadataインターフェイスのプロパティ）になります。

このプロパティを有効にすると、TVSDKは、定義された許容値に基づいて、各広告の時間を位置より前に解決します。 デフォルトでは、`delayAdTolerance`は5秒に設定されています。

**バージョン1.4.45**

Xcode10に準拠するため、TVSDKは「`libstdc++`」から「`libc++`」に移行しました。その結果、サポートされる最小バージョンはiOS 7です。 以前はiOS 6でした。

**バージョン1.4.44**

このリリースでは、新機能や機能強化はありません。

**バージョン1.4.43**

* 部分的な広告の追跡をトリガーすることなく、広告の途中に参加できるテレビのような体験。\
   例：30秒の広告を3つ含む90秒の広告の時間の途中（40秒）にユーザーが参加します。 時間の2番目の広告から10秒経過します。

   * 2番目の広告は残りの時間（20秒）再生され、次に3番目の広告が続きます。
   * 部分的に再生された広告（2番目の広告）の広告トラッカーはトリガーされません。 3番目の広告のみのトラッカーがトリガーされます。

* PTAdMetadataインターフェイスに、Boolean型のenableVodPrerollプロパティが追加されました。 このプロパティは、VoDストリーム上のプリロールを有効にするために使用できます。 enableVodPrerollがNOの場合、PSDKはプリロールを再生しません。 ただし、これはミッドロールには影響しません。 enableVodPrerollのデフォルト値はYESです。
* PTMediaPlayerインターフェイスのclosedCaptionDisplayEnabled APIは、iOS v1.4.43以降では非推奨としてマークされています。 特定のPTMediaPlayerItemに対してクローズドキャプションが使用可能かどうかを判断するには、PTMediaPlayerMediaItemのsubtitlesOptionsプロパティを調べます。

**バージョン1.4.42**

このリリースでは、新機能は追加されません。 修正された問題のリストについては、[解決された問題](#resolved-issues)を参照してください。

**バージョン1.4.41**

APIの変更：

* **isSecure**:プレイヤーの記録とエラーのスローを保護するために、新しいAPIがisSecureに導入されました。デフォルト値はtrueです。

* **allowExternalRecording**:安全なコンテンツに対して空中再生のミラーリングを可能にする新しいAPIが導入されました。エアプレイのミラーリングは記録として扱われるので、コンテンツを保護するために、エアプレイのミラーリングを許可するには`allowExternalRecording`の値を`True`に設定する必要があります。 `False`デフォルトでは、`value`はtrueです。

**バージョン1.4.40**

新機能はありません。

**バージョン1.4.39**

* iOS TVSDKは、VHL 2.0.1およびVHL 2.0.1とNielsenで認証されています。

* iOS TVSDKが更新され、新しいAkamaiホスト`primetime-a.akamaihd.net`からCRSリクエストが作成されるようになりました。

* 新しいホスト名の設定では、HTTPとHTTPS(SSL)の両方を介して、CRSアセットの配信をより大規模に提供します。

**バージョン1.4.36**

iOS TVSDKでVHL 2.0を統合および認証します。APIの複雑さを軽減して、`VideoHeartbeatsLibrary`実装のバリアを軽減します。

**バージョン1.4.34**

**ネットワーク広告情報**

TVSDK APIは、サードパーティのVAST応答に関する追加情報を提供するようになりました。 広告ID、Ad SystemおよびVAST広告拡張は、広告アセットの`networkAdInfo`プロパティからアクセスできる`PTNetworkAdInfo`クラスに提供されます。 この情報は、**Mort Analytics**&#x200B;など、他のAd Analyticsプラットフォームとの統合に使用できます。

**バージョン1.4.31**

* **請求** 指標Adobeは、実際の使用状況に関係なく固定料金ではなく、使用した分のみを支払いたい顧客に対応するために、使用状況指標を収集し、これらの指標を使用して顧客の請求額を決定します。

   TVSDKがストリーム開始イベントを生成するたびに、プレイヤーはHTTPメッセージを定期的にAdobeの請求システムに送信する開始を実行します。 請求可能期間と呼ばれる期間は、標準のVOD、プロVOD（ミッドロール広告が有効）、ライブコンテンツで異なる場合があります。 各コンテンツタイプのデフォルトの期間は30分ですが、実際の値はAdobeとの契約によって決まります。

* **CRS AdsTVSDKのマルチCDNのサポートCRS** 広告のマルチCDNがサポートされるようになりました。CRS広告にFTPの詳細を指定することで、AkamaiなどのデフォルトのAdobe所有CDN以外のCDNの場所を指定できます。

**バージョン1.4.29**

`PTSDKConfig`クラスにforceHTTPS APIが追加されました。

`PTSDKConfig`クラスは、Adobe PrimetimeAd Decisioning、DRMおよびVideo Analyticsサーバーに対するリクエストに対してSSLを強制するメソッドを提供します。 詳しくは、このクラスの`forceHTTPS`メソッドと`isForcingHTTPS`メソッドを参照してください。 マニフェストがHTTPS経由で読み込まれる場合、TVSDKはHTTPSのコンテンツ使用を保持し、そのマニフェストから相対URLを読み込む際にこの使用状況を順守します。

>[!NOTE]
>
>広告追跡ピクセル、コンテンツ、広告URLなどのサードパーティドメインへのリクエストは変更されません。また、HTTPS経由でサポートされるURLを提供するのは、コンテンツプロバイダーや広告サーバーの責任です。

**バージョン1.4.18**

Primetime iOS TVSDKは、VPAID 2.0 Javascriptクリエイティブをサポートし、リッチなインタラクティブなインストリーム広告エクスペリエンスを有効にします。 VPAID 2.0について詳しくは、VPAID広告のサポートを参照してください。

**バージョン1.4.17**

* tvOS

   TVSDKは、tvOSネイティブアプリケーションをサポートしています。
* 次のタイプのコンテンツを再生できます。

   * VOD
   * ライブ
   * AES-128
   * 代替オーディオとサブタイトル
   * FER

* 次のタイプの広告を表示できます。

   * 基本
   * VAST2
   * VAST3
   * VMA

* 現在、次の機能はサポートされていません。

   * Digital Rights Management(DRM)
   * 広告バナー
   * TVマークアップ言語(TVML)

**バージョン1.4.13**

>[!NOTE]
>
>ニールセンモジュールは、TVSDKビルドから削除され、近い将来、TVSDKが新しいニールセン統合モジュールに更新される予定です。

**広告のフォールバック、広告選択ロジックのデイジーチェーン(Zendesk #3103)**

フォールバックルールが有効になっているVAST広告（クリエイティブ）の場合、TVSDKは、MIMEタイプが無効な広告を空として扱い、その場所にフォールバック広告を使用しようとします。 フォールバック動作のいくつかの側面を設定できます。 詳しくは、VASTおよびVMAP広告の広告のフォールバックを参照してください。

**バージョン1.4.9**

**代替コンテンツ置換を伴うブラックアウトシグナリング**

1.4 TVSDKの更新により、リニアコンテンツに対する地域的なブラックアウトへの切り替えとリピートをサポートするようになりました。 TVSDKは、メインと代替の2つのマニフェストファイルを並行して処理でき、元のプログラミングの代わりに代替プログラミングが表示されている場合でも、ブラックアウトシグナルを監視できます。

**バージョン1.4.8**

**バージョン1.5に更新されたビデオハートビートライブラリ(VHL)**

* ビデオ開始やビデオ/広告/チャプター開始と共に、メタデータをコンテキストデータとして送信する機能。

* ネットワークトラフィックの削減 — ハートビート数は平均的に少なく、サイズは小さくなります。

**バージョン1.4.7**

* **オンプレミス個別化のサポート**

別のエンドポイントに移動するためにクライアントの個別化要求をカスタマイズするAdobe個別化サーバーのオンプレミスインストールをサポートします。

* **解像度ベースの出力保護**

DRMポリシーで、デバイスの出力保護機能に応じて、許可される最高の解像度を指定できるようになりました。 例えば、「HDCPが使用可能な場合、1080pまでの解像度のコンテンツを再生でき、HDCPが使用できない場合は、480pまでの解像度のコンテンツを再生できるようにします」というようにします。

**バージョン1.4.4**

* **バージョン1.4.1.1へのビデオハートビートライブラリ(VHL)の更新**

   * 他のSDKやプレーヤーから、Adobe Analyticsビデオエッセンシャルに様々な解析使用例をバンドルする機能が追加されました。
   * 広告トラッキングは、`trackAdBreakStart`メソッドと`trackAdBreakComplete`メソッドを削除することで最適化されました。 広告の時間は、`trackAdStart`メソッド呼び出しと`trackAdComplete`メソッド呼び出しから推定されます。
   * 広告を追跡する際に、`playhead`プロパティは不要になりました。
   * Marketing Cloud訪問者IDのサポートを追加しました。

* **Nielsen SDKの統合**

TVSDKは、カスタム統合を行うことなく、mTVRおよびMDPR ID3ビーコンをNielsen SDKに送信できるようになりました。 開始するには、3.1.2.19 Nielsen iOS App SDKをダウンロードし、iOSプログラマーガイドに記載されている手順に従ってください。

**バージョン1.4.0**

* **代替コンテンツ置換を伴うブラックアウトシグナリング**

TVSDKは、1.4 TVSDKの更新の一環として、リニアコンテンツに対する地域的なブラックアウトへの切り替えと復帰もサポートするようになりました。 TVSDKは、メインと代替の2つのマニフェストファイルを並行して処理でき、元のプログラミングの代わりに代替プログラミングが表示されている場合でも、ブラックアウトシグナルを監視できます。

* **C3広告の削除/置換**

現在は、C3時間枠から取得されるビデオオンデマンド(VOD)アセットに新しい広告を動的に挿入するために、追加の準備作業を行う必要はありません。 TVSDKは、カスタムコンテンツ範囲を削除し、新しい広告を動的に挿入するAPIを提供します。 この強力な新機能は、ライブ/リニアコンテンツの放送中に、アセットを「クリーンアップ」する適切な時間をかけずに、オンデマンドコンテンツとして即座にプルダウンされる場合にも役立ちます。

## 解決された問題{#resolved-issues}

解決が報告された問題に関連付けられている場合、Zendesk参照（ZD#xxxxなど）が表示されます。

<!-- 

Comment Type: draft

 <p>All TVSDK customers who use CRS are strongly encouraged to upgrade to TVSDK 1.4.39 or latest on iOS and Android. This upgrade is a drop-in replacement to the existing app implementation. After the upgrade, check for the CRS creative URL requests in a proxy tool (for example, Charles) to verify that the version in the path reflects version 3.1. For example:</p> 
 <p><span class="code">https://primetime-a.akamaihd.net/assets/3p/v3.1/222000/167/d77/ 167d775d00cbf7fd224b112sf5a4bc7d_0e34cd3ca5177fbc74d66d784bf3586d.m3u8</span></p> 

-->

<!--
Comment Type: draft

 <p>TVSDK versions earlier than version 1.4.28 sometimes exhibit a long delay in the startup time when ad-enabled content is played on devices that are running on iOS 10. To resolve this issue, upgrade to version 1.4.28 or later. Version 1.4.28 was released on August 31, 2016, and iOS 10 was released on September 13, 2016.</p> 
-->

**iOS TVSDK 3.13**

* (ZD 42085)- CMAFストリームでの再生に関する問題。

* (ZD-43215) — 広告の処理中にプレイヤーを消すとクラッシュします。

* (ZD 43210) - WebVTT字幕が有効な場合、iOS HLS再生がフリーズします。

**iOS TVSDK 3.12**

* TVSDK for iOS 3.10を使用している場合、ライブストリームは15分の再生後に失敗します。

### 以前のリリース{#resolved-issues-previous}で解決された問題

**iOS TVSDK 3.11**

* (ZD#40998) - `isFallbackOnInvalidCreativeEnabled`により、アプリケーションがクラッシュします。

* (ZD#41289) - `NSInvalidArgumentException`は、`customParams`メソッドを使用して観察され、アプリケーションがクラッシュします。

**iOS TVSDK 3.10**

(ZD#40943) — ネットワークが使用できない場合、TVSDKプレイヤーはPTMediaPlayerStatusError通知を実行しません。

**iOS TVSDK 3.9**

(ZD#40272)- iOS TVSDKが、101001エラーが発生してVTTサブタイトルを再生できず、アプリが停止する原因となります。

**iOS TVSDK 3.8**

* (ZD#40087) — 有効期限が切れたVODコンテンツに対するプレイヤーエラーが発生してiOSがクラッシュします。

* (ZD#40083) — プリロール広告は`OpportunityGenerator`のライブストリームで再生されず、プレーヤーがエラーを返します。

* (ZD#39828) - `CurrentItem`プロパティにNULL許容注釈がないため、通知に含まれるプレイヤーのステータスが`PTMediaPlayerStatusStopped`の場合にプレイヤーがクラッシュします。

**iOS TVSDK 3.7**

(ZD#38961) - PiPで複数のコンテンツを再生するように設定されている場合、1つのコンテンツの再生が完了した後、ピクチャインピクチャ(PiP)ウィンドウでコンテンツの再生が失敗します。

**iOS TVSDK 3.6**

このリリースでは新しい問題はありません。

**iOS TVSDK 3.5**

このリリースでは新しい問題はありません。

**バージョン3.3**

(ZD#37820) — カスタムヘッダーのHS-Id、HS-SSAI-TAGのリストを許可するように追加しました。

**バージョン3.2**

* **チケット#36588** - MediaPlayerのSTOPメソッドが呼び出されると、プレイヤーのクラッシュが観察されます。

サブタイトルを持ついくつかのストリームに対してSTOPメソッドが呼び出された場合に発生する断続的なクラッシュを修正しました。

* **チケット#37080**  — マニフェスト呼び出しに対して表示される重複要求。再生中にマニフェストURLに対して行われた重複要求を修正しました。 TVSDKは、マニフェストごとに1回呼び出すようになりました。

* **Ticket#37** - CRS正規化ルールはeq一致タイプで失敗しました。ホスト名に「eq」一致タイプを設定した最後の正規化ルールセットを使用した場合に、プレイヤーがクラッシュしていた問題を修正しました。

**バージョン3.1**

**チケット#36313**  — リニア広告の時間中、断続的な予測できない結果、ライブストリーム内のリニア広告の時間中の断続的な再生が修正されました。

**バージョン3.0.1**

**Ticket36948** - CRS - iOS 12でアセット選択順序が異なるCRS用に選択されたアセットが、常にVASTまたはVMAP応答で返される最高の品質のバリアントではありません。

**バージョン3.0**

* **Ticket35311**  — 電話の中断中に、プレイヤーのステータスがPAUSEDになりません。プレイヤーの中断を停止する割り込みハンドラーが追加されました。中断すると、プレイヤーのステータスはPAUSEDになり、再生ボタンのクリック時に再生を再開します。

* **Ticket36685**  — ライブアセット — プレイヤーの時間の進行状況と時間が一致しません。SCTEマーカーの時間正しい時間は、ライブポイントより前にあるSCTEマーカーに対して計算されます。

* **一時停止中に新しい位置にシークする際** に、Ticket36492 `currentTime` - `localTime` および更新されないステータスプレイヤーの現在時間が、プレイヤーが一時停止状態にある場合に、ゼロに設定できるようになりました。以前は、再生状態でのみ現在時間が0に設定されていました。

**バージョン1.4.45**

* **Ticket36294** - iOS TVSDKがXcode 10で機能しないXCode 10上のTVSDKでのコンパイルの問題を修正しました。XCode 10の要件により、iOS 1.4.45以降向けのTVSDKを基にビルドするアプリでは、iOS 7.0以降でのデプロイメントのターゲットを最小限に抑える必要があります

* **Ticket36321**  - 「再生中」状態のと `PTMediaPlayer`  `AVPlayer` インスタンス間のシーク可能な範囲で観察される不一致。

* **Ticket36493**  - iOS 12での `libstdc++` サポートiOS 12でのTVSDKに関するコンパイルの問題を修正しました。TVSDK for iOS 1.4.45以降を基にビルドされるアプリでは、iOS 7.0以降でのデプロイメントのターゲットを最小限にする必要があります

**バージョン1.4.44**

* **Ticket34683**  — 広告再生の進行状況時間が負の値になっています。

広告サーバーから報告される期間と実際の広告コンテンツとの間に不一致がある場合の問題に対処するため、追加のチェックが行われます。

* **一時停止中に新しい位置にシークした場合に、Ticket34801** - currentTimeとlocalTimeが更新されなかったステータスプレイヤーの現在時間が、一時停止状態の場合に0に設定できるようになりました。以前は、再生状態でのみ現在時間が0に設定されていました。

* **Ticket35037**  — シグナルベースの広告挿入から戻ると、再生が停止し、URLが正しくありません。1.4.42リリースの閉じた問題#34385で修正されました。 操作キューをより堅牢にするために、isCancelledチェックおよび例外処理コードが追加されました。

**バージョン1.4.43**

* (ZD#32990) - iOS:広告の代わりに一部のキューポイントで再生するコンテンツ。 `selectedMediaOptionInMediaSelectionGroup` AVPlayerItemインターフェイスの一部であったAPIは、iOS 11のAVMediaSelectionの下に移動されました。この新しいAPIを使用して問題が解決しました。

* (ZD#33683)TVSDKは、メタデータ文字列から==サフィックスを削除しました。 この問題は解析ロジックで修正されました。

* (ZD#33905) - iOS TVSDKは、2つのユーザーエージェントを使用してマニフェストファイルを呼び出します。 ユーザーエージェントに関する問題は、最初のm3u8呼び出しで修正されました（新規インストールの場合）。 現在、M3u8では、すべての呼び出しに対して同じユーザエージェントを使用します。

* (ZD#34293) — リニアストリームに挿入されたプリロールがiOS11で正しく再生されません。 プリロール広告に関する問題が修正されました。

* (ZD#34684)- Ad Skipポリシーが適用されると、プリロール広告フレームが数秒間表示されます。 VOD再生でのプリロール再生を無効にする新しいAPI、enableVodPrerollが導入されました。 このAPIのデフォルト値は「はい」です。 APIは、メインコンテンツで広告コンテンツの切り替えを確実にスキップします。

* (ZD#34765) - stop()を呼び出した後も、一部のトランスポートストリームセグメントがダウンロードされます。 Stop() APIが強化され、余分なセグメントがダウンロードされなくなりました。

* (ZD#34865) - iOSで、ライブストリームのプリロール広告が切り捨てられます。 iOS11に関連し、ストリームがプリロールかメインコンテンツかを確認するチェックを追加して、この問題を解決します。

* (ZD#35093) — 起動時にストリームのプライマリバリエーションが失敗した場合（404を返す）、再生がバックアップストリームに切り替わらないというフェイルオーバーシナリオを修正しました。

**1.4.42 (1.4.42.118)**

* (ZD#34385) — シグナルベースの広告挿入から戻ると、再生が停止し、不正なURLが表示されます。

   マニフェストの読み取りを引き続き実行できるように、`CustomAVAssetLoaderOperations`の最大同時カウント数を増やします。

* (ZD#34373) — ストリームの記録が許可されていない場合、エンドユーザーはHDMI接続のデバイスにストリーミングできません。

* (ZD#32678) - TVSDKがiOSで正しい広告IDを収集しません。

   最終的な広告クリエイティブの広告IDは、VAST/VMAPリダイレクトの場合に、VHL pingで取得されるようになりました。

* (ZD#33904) - TVSDKは、AVFoundation通知`AVAudioSessionMediaServicesWereLostNotification`および`AVAudioSessionMediaServicesWereResetNotification`に登録されていません。

   `PTMediaServicesWereLostNotification` メディアサービス `PTMediaServicesWereResetNotification` がリセットまたは失われたときに通知を取得できるようになりました。

* (ZD#33815) — アプリを更新しないと、優先順位付けと正規化のCRSルールを更新できません。

   iOS TVSDKに`getCRSRulesJsonURL`および`setCRSRulesJsonURL` APIを追加しました。

**バージョン1.4.41 (1.4.41.76)**

* (ZD #34464) - TVSDKバージョン1.4.41でリファレンスアプリの作成に関する問題

   このバージョンから、iOS用のTVSDKをコンパイルするにはXcode 9が必要です。
* (ZD #29456) — 一時停止状態のAirplay開始

   Airplayに入るとビデオが一時停止するという一時停止の問題を修正。
* (ZD #30371) — リニアストリームに2つ以上の広告を挿入すると、AdBreakの開始時間が変わります。

   再生が完全に行われないという、Apple TVでコンテンツを再生しようとするとエラーが発生する問題を修正しました
* (ZD #32146)- iOS 11開発ベータのブロック時にHLS Liveコンテンツに対して`PTMediaPlayerStatusError`を受け取りません。

   Charlesを使用したブロック時に、HLS LiveおよびVODコンテンツに対して`PTMediaPlayerStatusError`を受信しません（接続の切断と403）。

* (ZD #29242) — 広告が有効な状態でAirplayビデオ再生が失敗する。

   広告が有効で、AirPlayが有効になっている場合、ビデオの再生は開始されず、エラーも表示されません。

* (ZD#33341) - `DRMInterface.h`トリガーは、Xcode 9で警告を作成します。

   `DRMInterface.h`内の2つのブロックプロトタイプを修正しました。このプロトタイプのパラメータリストに「void」という単語が含まれていませんでした。

* (ZD#31979) - iPhone 7/iPhone7+用iOS 10以降ではコンパイル/実行されません。

   iOS 7より前のバージョンのIBドキュメントのコンパイルはサポートされなくなりました。

* (ZD#32920) — 広告の時間内の空白の画面。広告の時間は完了しません。

   広告の時間が広告インスタンスを表示していて、広告インスタンスが終了した後は、空白の画面が表示されます。

* (ZD#32509) - iOS 11の画面記録を無効にするiOS 11の画面記録を無効にする

* (ZD#33179) - iOS11で断続的なイベントエラーが発生します。

   iOS 11でのイベントエラーを修正しました。

**バージョン1.4.40** (1.4.40.72)

* (ZD #32465) — プレイヤーは、結合された再生リストを処理できません。

   `finishLoadingWithError`を呼び出す（次を含む）:エラー) AVファンデーションが代替ストリーム/トリガーのフェイルオーバーを試行するためのエラー。

* (ZD #31951) — ライセンスの循環中にTVSDKエラーが発生しました。

   ライセンスのローテーションの問題を修正しました。
* (ZD #31951) — 広告の時間内の空白の画面。広告の時間は完了しません。

   Facebook VPAID広告が1つの`<AdParameters>` VASTノードで複数のCDATAブロックを返すことが多い問題に対処しました。
* (ZD #33336) - iOS TVSDK - Freewheelから返される広告が十分にあるにもかかわらず、広告ポッドが埋められません。

   シーケンス広告とフォールバック広告の間に親子関係を作成し、親シーケンスとインデックスに基づく並べ替えを行いました。

**バージョン1.4.39** (1.4.39.43)

* (ZD #32178) - iOS TVSDKのバージョンが正しくありません。

   ログファイルに出力されたTVSDKバージョンは1.0.211でした。正しいバージョンが出力されるように修正されました。

* (ZD #32199) — 遅延広告の読み込み — コンテンツにビデオが表示されません。

   以前に初期化されなかったローカルのAdbreakタイムラインが、使用前に更新されるようになりました。

* (ZD #27528) - iOS 1.2でセカンダリオーディオがデフォルト以外に設定されている場合、ビデオ、オーディオ、またはその両方が、再生中のアセット開始の1 ～ 45秒後にフリーズします。

   オーディオトラックを準備済み状態にし、通知する。

* (ZD #30411) — セカンダリSAP言語を選択した場合、オーディオやオーディオがないなど、予期しない結果が生じる場合があります。

   オーディオトラックを準備済み状態にし、通知する。

* (ZD #32199) — 遅延広告の読み込み — コンテンツにビデオが表示されません。

   以前に初期化されなかったローカルのAdbreakタイムラインが、使用前に更新されるようになりました。

* (ZD #27528) - iOS 1.2でセカンダリオーディオがデフォルト以外に設定されている場合、ビデオ、オーディオ、またはその両方が、再生中のアセット開始の1 ～ 45秒後にフリーズします。

   オーディオトラックを準備済み状態にし、通知する。

* (ZD #30411) — セカンダリSAP言語を選択した場合、オーディオやオーディオがないなど、予期しない結果が生じる場合があります。

   オーディオトラックを準備済み状態にし、通知する。

**バージョン1.4.38** (1.4.38.860)

* (ZD #29281) - iOS:AdSystem追加とCRSへのクリエイティブIDのリクエスト

CRS正規化ルールに基づくCRSリクエストでのクリエイティブIDとAdSystemの使用

* (ZD #29176) - `PTAdPolicyDeligate` `satAdBreakAsWatched:position`でのクラッシュ

空のAdBreakによるクラッシュが処理されるようになりました。

* (ZD #30125) — プログラム型広告がiOSプラットフォームで機能しません。

iOSでのプログラム型広告のサポートを追加しました。

* (ZD #30782) - #EXT-X-プログラム — 日時通知

# EXT-X-プログラム-DATE-TIMEタグに対して、Live DRMストリームで時間指定メタデータイベントが実行されません。

**バージョン1.4.37 (1.4.37.842)**

* (ZD #28950) - VOD再生の問題

ストリーム内の# EXT-X-PLAYLIST-TYPEタグがVODではなくイベントに設定されている場合の再生の問題

* (ZD #29281) - iOS:AdSystem追加とCRSへのクリエイティブIDのリクエスト

CRSの正規化ルールに基づく、CRSリクエストでのクリエイティブIDとAdSystemの使用。

* (ZD #29462) - ThelorHubおよびA&amp;E VOD内のiOSアプリでクラッシュを引き起こす

**バージョン1.4.36 (1.4.36.835)**

* (ZD #29418) — 時間0のキュー(#EXT-X-CUE-OUT:0.000)が原因で、iOS TVSDKが再生を停止またはクラッシュします。

この問題は修正され、再生開始が正しく行われました。

* (ZD #29462) - iOS TVSDKでクラッシュを引き起こすVODの広告。

この問題は修正されました。 iOS TVSDKは`exception(AUDNetworkAdInfo::initWithAdId)`を増やしており、処理していません。 この例外は、広告IDが空であるためです。

* (ZD #29281)- CRSリクエストに対するAdSystem追加およびクリエイティブID。

1401および1403のリクエストに、新しいパラメーターとしてAdSystemとCreativeIdを含めます（その他のパラメーターはすべて同じままです）。

**バージョン1.4.35** (1.4.35.830)

* (ZD #27830) - iOSでは、クローズドキャプションとサブタイトルの違いをプログラムで判断する必要があります。

TVSDKは、必要なキャプションタイプをフィルターで除外するために使用できる2つのタイプを公開するようになりました。

* (ZD #29160) - EXT-X-CUE-OUT広告キューが、TVSDK iOSで正しくスライスされません。

EXT-X-CUE-OUTミッドロール広告が再生されるようになりました。

* (ZD #29100) — ユーザーがスクラブしてムービーの最後に到達すると、アプリがクラッシュします。

同期に関連する複数のクラッシュを修正。

* (ZD #28785)、(ZD #27712)、(ZD #25076) — 大規模なライブイベント中にiOSアプリがクラッシュしています。

同期に関連する複数のクラッシュを修正。

**バージョン1.4.34** （iOS 6.0以降の場合は1.4.34.815）

* (ZD #28481) — これらのFERストリームの広告の時間の終わりに誤ったキーが追加されることが原因でFERが停止した場合

FERストリームの場合、広告の時間の前のキーは、広告の時間の終わりの後に挿入されます。 この問題は、広告の時間の末尾に&#x200B;*最後に表示されたキー*&#x200B;を追加することで解決しました。

**バージョン1.4.33** （iOS 6.0以降の場合は1.4.33.803）

* (ZD# 21701)サブアカウントのCRSを有効にする

CRSバックエンドの要件に従って、正規化されたURLではなく、1401 CRSリクエスト用の元のクリエイティブURLを送信することで有効になります。

* (ZD# 26218) - PSDKResources.bundleの読み込みの問題

この問題は、リソースの読み込みを更新して、使用可能なすべてのバンドルから検索することで解決されました。

* (ZD# 27460)ミッドロールの最初の広告呼び出し — `cdn.auditude.com`にPOSTして403を返しました。

新しいCDNアカウントは、POSTのCDN要求を処理できません。 この問題は、コードを更新して`cdn.auditude.com`広告リクエストをPOSTではなくGETにすることで解決されました。

**バージョン1.4.32** （iOS 6.0以降の場合は1.4.32.792）

* (ZD# 27132)VMAP広告の時間で10進数値がサポートされます。

定義された広告の時間に沿ってコンテンツがセグメント化されなかった場合、整数が原因で、予期しない広告の配置が発生していました。 この問題は、10進数値を整数に変換しないことで解決されました。

* (ZD# 27189)EXT-X-DISCONTINUITY-SEQUENCEタグを持つAESコンテンツが正しく再生されません。

この問題は、タグをプレイリストの先頭に置くことで解決されました。

**バージョン1.4.31** （iOS 6.0以降の場合は1.4.31.785）

* (ZD# 24528)TVSDKの請求に対する使用指標の実装

詳しくは、[請求指標]を参照してください。

* (ZD# 24642)TVSDKのピクチャインピクチャのサポート

場合によっては正しく機能しなかったピクチャインピクチャ機能が修正されました。

* (ZD# 25246)広告の時間シグナルが正しくありません

この問題は、バリアントマニフェスト間で不連続タグを配置することで解決されました。

* (ZD# 26218)クライアントのアプリケーションフレームワークにPSDKLibrary.frameworkを含めようとすると、アプリケーション構築プロセスが複雑になります。

この問題は、PSDKLibrary.frameworkを要求どおりにパッケージ化することで解決されました。

* (ZD# 26364)CRS広告のマルチCDNサポート

詳しくは、CRS広告配信の複数のCDNのサポートを参照してください。

* (ZD# 27028)iOS 10での一部のストリームの再生の遅延。

この問題は、M3U8拡張子のないストリームに対して回避策を提供することで解決されました。

**バージョン1.4.30** （iOS 6.0以降の場合は1.4.30.754）

TVSDKのこのリリースでは、次の問題が解決されました。

* (ZD# 24180)カスタムヘッダ追加から許可リストへ。

新しいカスタムヘッダーがTVSDK許可リストに追加されました。

* (ZD# 25016)ABR制御パラメーターが設定されている場合、フェイルオーバーストリームがランダムに選択されます。

この問題は、フェールオーバーURLを含むストリームでABR設定にinitialBitrate設定が指定されている場合に、ABRストリームを順番に維持することで解決されました。 これにより、プライマリではなく、フェイルオーバーストリームを再生しなくなります。

* (ZD# 25076)PTAuditudeAdResolver loadCompleteでのクラッシュ

広告を含む複数のPTMediaPlayerインスタンスの迅速な開始/停止中にクラッシュが発生する問題が修正されました。

* (ZD# 25960)追加のサブスクライブ済みタグは、メタデータ変更通知ブロードキャストをトリガーしません。

マニフェスト内の最初のセグメントが修正される前にサブスクライブされたタグが表示されても、そのタグに関する通知が送信されない問題です。

* (ZD# 26084)PSDKが106000.101000をスローする。-11833デコーダーが見つかりません。最後の広告の時間からエンターテイメントコンテンツに移行する際にエラーが発生します。

VMAPからの最後の広告ブレークの開始時間が合計継続時間の完了前に該当する場合、特定の状況では、最後の広告ブレークの終了後までキーは挿入されません。 この問題は修正されました。

* ビデオハートビートライブラリ(VHL)は、バージョン1.5.9に更新され、次の問題を解決しました。

* (ZD #22351) VHL - Analytics:ライブビデオアセットの時間

この問題は、PTVideoAnalyticsTrackingMetadataにassetDuration APIを追加して、ライブ/リニアストリームのアセット期間を更新し、ライブストリームをチェックするロジックを提供することで解決されました。

* (ZD# 22675) VHL - Analytics:ライブビデオアセットの時間の更新

この問題はZD #22351と同じです。

* (ZD #25908) VHL - Analytics:Adobeハートビートイベントのクラッシュ

この問題は、安定性とパフォーマンスを向上させるために、iOS用VHLバージョン1.5.9の最新バージョンを使用するように実装を更新することで解決されました。

* (ZD #25956) VHL - Analytics:ビデオを繰り返し再生するとクラッシュする

この問題はZD #25908と同じです。

**バージョン1.4.29** (1.4.29.743)

* (ZD# 23901)サードパーティ広告が再生されない

この問題は、CRS v3 URL構造に移動して、再パッケージされたURLにゾーンIDを含めることで解決されました。

* (ZD #25183)tvOSおよびiOSでのDRM再生に関する問題

この問題は、Multi-DRMのサポートに必要な複数のキータグのサポートを提供することで解決されました。

* (ZD# 25334)TVSDKがcDVR共有コンテンツの再生に失敗する

この問題は、TVSDKが空の文字列を絶対URLに変換できないことによって解決されました。

* (ZD# 25347)AVURLAssetにカスタムHTTPヘッダーを設定

PTNetworkConfigurationクラスを使用した、tsセグメントリクエストのカスタムヘッダーのサポートが追加されました。

**バージョン1.4.28** (1.4.28.722)

* (ZD #24549)複数の広告トラッキングコール

この問題は、複数のプレーヤーが作成された場合に、特定のオブジェクトの通知をリッスンするようにタイムラインマネージャーを更新することで解決されました。

* (ZD #24758) PTManifestLoggerはiOS 8をサポートしません。

この問題は、ロガーユーティリティライブラリをバージョン7.0デプロイメントターゲットに更新することで解決されました。

* (ZD #24775)広告が原因で遅延したストリーム

この問題は、イベント再生リストの期間のずれを正しく計算することで解決されました。

* (ZD #24799)一部のエピソードがiOSアプリで再生されない

この問題は、WebVTTファイルの地域制限時に、ローカルWebサーバーをサブタイトルに使用することで解決されました。

**iOS 6.0以降の場合はバージョン1.4.27** (1.4.27.711)

* (ZD #24089) — 長いDVRストリームの広告解決の最適化

この問題は、複数の最適化を追加して、ライブ/リニアストリームでDVR時間の処理に要する時間を短縮することで解決しました。

* (ZD #21554) - application-type = video/mp4でTVSDKエラービーコンが発生しない

この問題は、無効なアセット形式でプレイヤーが正しいエラー追跡URLにpingを実行できるようにすることで解決されました。

* (ZD #24424) — 新しいハードウェアデバイスのiOSの場合、PSDKLib内からEXC_BAD_ACCESS KERN_INVALID_ADDRESSタイプのクラッシュが発生します。

再生が異なるストリーム間で急速に切り替えられる場合に、割り当てが解除されたメディアプレイヤーインスタンスが原因で発生したクラッシュが修正されました。

* (ZD #24575) - enableDebugLog=trueの場合に、32ビットデバイスのTVSDKでクラッシュします。

ログを有効にした場合に32ビットデバイスでクラッシュするログ形式の問題が修正されました。

**iOS 6.0以降の場合のバージョン1.4.26** (1.4.26.702)

* (ZD# 20213) - TVSDK FWは、XCode7用に動的/モジュール化する必要があります。

モジュールのサポートでライブラリを更新して

**iOS 6.0以降の場合のバージョン1.4.25** (1.4.25.684)

* (ZD #19629) - ATV 4へのAirplayへの移行時にライブビデオが一時停止

この問題は、古いアイテムを削除した後、AVQueuePlayerに新しいアイテムを追加する前に、待ち時間を追加することで解決されました。 待ち時間がないと、間違ったアイテムに通知が送信されます。

* (ZD #19856) — デフォルトで有効になっている場合、サブタイトルは表示されません。

Webvttプレイリストのサブタイトルが正しく表示されない問題が修正されました。

* (ZD #21590) — 最新の接触チャネルビルドでのビデオのパフォーマンスと追跡

VideoAnalyticsでビデオの長さが見つからない問題が修正されました。

* (ZD #20202) — カスタムのサブタイトルのスタイル設定を行うと、iOSアプリがクラッシュする

この問題は、字幕スタイルの設定時にヌルオブジェクトチェックを追加することで解決されました。

* (ZD #20709) — ビデオ開始トラッキングで、ビデオの長さが0とレポートされました。

この問題は、(ZD #21590)と同じです。

* (ZD #22280) - Analyticsのビデオの長さが0に設定される

この問題は、(ZD #21590)と同じです。

* (ZD #22592) - PrimetimeでのAirplayの問題

この問題は、(ZD #19629)と同じです。

* (ZD#22922) - iOS用の手動ビットレート切り替え

この問題は、最大ビットレートを指定するオプションを提供することで解決されました。

* (ZD #23084) - IPv6専用ネットワークに対するAppleの準拠

IPv6との互換性に関してAppleが推奨しなかったシンボルは削除されました。

**iOS 6.0以降の場合のバージョン1.4.24** (1.4.24.661)

* ZD #2548) - Primetimeでのモバイル向けインタラクティブ広告のサポート — VPAID 2.0

この問題は、VPAID広告の再生に失敗した場合にプレイヤーの表示を再表示するロジックを更新することで解決されました。

* (ZD #20101) — カスタムチャプター実装は、広告の再生中にチャプター開始イベントを実行します。

この問題は、チャプターとチャプター以外の境界間での移行時にチャプターの開始/完了を正しく検出するようVideoAnalyticsTrackerを更新することで解決されました。

* (ZD #20784) - Analytics:ライブビデオトランジションのコンテンツ完了のトリガー

この問題は、ビデオトラッキングセッション中に、コンテンツの完了を手動でトリガーするロジックを追加することで解決されました。

次のライブラリが更新されました。

* AdobeMobileライブラリ4.10.0
* VHLライブラリから1.5.6
* VHL-Nielsenライブラリから1.6.7
* (ZD #21855) — ミッドロール後にサブタイトルが再生されません。

この問題では、重複の不連続タグが原因で、ミッドロールの後にサブタイトルが表示されませんでした。 この問題は、互いに隣接する不連続タグを削除することで解決されました。

* (ZD #21994) - PTHLSUtilsの文字列が範囲外です

EXT-X-KEYに引用符で囲まれたURLがある場合、クラッシュが発生する可能性が最も高い原因です。

* ZD #22074) - iOSで1分に1回AUDVASTのクラッシュが発生する

バージョン1.4.23では、VASTリダイレクトURLに安全でない文字が含まれることが原因で発生していたクラッシュが修正されました。 ただし、TVSDKはこれらの広告をスキップし続けていました。

この問題は、安全でない文字を処理し、広告の再生を許可することで解決されました。

* (ZD #22694) - PTMediaPlayer.  表示はプレイヤーによって非表示にされています

この問題は、VPAID広告の再生に失敗した場合にプレイヤーの表示を再表示するロジックを更新することで解決されました。

**iOS 6.0以降の場合のバージョン1.4.23** (1.4.23.641)

* (ZD #18016) - Primetime SDKからの応答がなく、ネットワーク条件が正しくありません

この問題は、AVFoundationからの致命的なエラーが発生した場合のエラー通知を改善し、エラー後の再起動をアプリケーションで処理できるようにすることで解決されました。

* (ZD #20580) - PTSplicerManagerでのクラッシュ

この問題は、クラッシュの原因となる並行性の問題からさらに保護することで解決されました。

* (ZD #21782) - iOSエラーコード10100

AdobeアクセスDRMストリームでの再生を開始する際に、TVSDKが101000エラーを返していた問題が修正されました。

* (ZD #21889) — オンライン広告とオフラインコンテンツの再生に失敗します。

AESで暗号化されたオフラインコンテンツの広告の後に再生が失敗する問題が修正されました。

* (ZD #22074) - iOSで1分に1回AUDVASTのクラッシュが発生する

この問題は、URLに無効な文字を含むサードパーティのVAST広告タグの処理を改善することで解決されました。

* (ZD #22257)- TVSDKがDRMストリームの再生に失敗します。

AdobeアクセスDRMストリームでの再生を開始する際に101000エラーを返していたTVSDKの問題が修正されました。

**iOS 6.0以降の場合のバージョン1.4.22** (1.4.22.627)

* (ZD #18709) - iOS用TVSDKでのクラッシュ

一部のAdobeアクセスDRM保護ストリームで発生するクラッシュに関する問題が修正されました。

* (ZD #18850)- CRSルールに基づいてクリエイティブ選択ロジックを更新します。

この問題は、クリエイティブの選択の優先順位を指定する.json設定ファイルを追加することで解決されました。

* (ZD #19770) — 保護されたAESビデオフィードが再生されなくなりました。

特定の302リダイレクトされたストリームの再生が失敗する問題が修正されました。

* (ZD #19629) - ATV 4へのAirplayへの移行時にライブビデオが一時停止

この問題は、Apple TV 4デバイスでエアプレイが有効になっている場合に、ライブビデオを一時停止するための回避策を追加することで解決しました。 この問題はAppleTV 4の問題のようです。

* (ZD #21119) — 広告の再生後、TVSDKが停止します。

広告挿入を使用しているときに、シーケンスIVを使用してAES暗号化ストリームをサポートするようになりました。

* (ZD #21125) — ライブ/リニア広告の時間から早い段階で戻る

広告の時間が再生されて完了する前の早い時間に、広告の時間から戻るためのサポートが追加されました。 早期の戻り値は、カスタムマニフェストタグを通して示されます。

* (ZD #21224) - Akamaiからのトークン化されたストリームのAirPlayサポート

APIがPTNetworkConfigurationクラスに追加され、特定のAkamaiトークン化ストリームのセグメントに対してURLパラメーターとしてcookieを追加できるようになりました。

* (ZD #21287) — 無関係なログ

ログが無効な場合でも、xcodeコンソールにデフォルトで表示されるログ文の一部に関する問題が修正されました。

* (ZD #21446)- TVSDKでトリガーされない広告ブレークイベント

イベントストリームでは、広告の時間は前のリリースのビルドでは正しくトリガーされません。 このビルドでは、この問題に対処します。

**iOS 6.0以降の場合はバージョン1.4.21** (1.4.21.605)

* (ZD #20749) — フォールバックは、空でないVAST応答をスキップします。追加の広告トラッキングURLが発生した

フォールバック広告での重複のpingの問題が解決しました。

**iOS 6.0以降の場合はバージョン1.4.20** (1.4.20.590)

* (ZD #18639)- TVSDKは、長時間のホットレコーディングアセットに対して過剰なCPU/リソースを使用しています。

CPU/リソースの過剰な使用量は、2つのレベルで修正されました。 まず、time update関数をメインスレッドではなくグローバルキューで実行し、前に処理およびキャッシュされたm3u8でマニフェストを解析するためのCPU使用量を最適化します。

* (ZD #19349) — ネットワーク接続を制限している場合、プリロール広告はスキップされます。

この問題は、アプリケーションとadMetadataにタイムアウトイベント(requestTimeout)を指定することで解決されました。  adRequestTimeout APIを追加しました。

* (ZD #19446) — ライブストリームに通知がありません

この問題は、ライブストリームでアプリケーションがEXT-X-プログラム-DATE-TIMEをサブスクライブできるようにすることで解決されました。

* (ZD #19459) - PTMediaPlayerItem prepareAudioOptionsWithAVMediaSelectionOptionsを使用して代替オーディオを準備するとクラッシュします。
* (ZD #19460) — クラッシュ — `[PTMediaPlayerItem prepareSubtitlesOptionsWithAVMediaSelectionOptions:nonForcedOptions:]`

この問題はZendesk #19459と同じです。

* (ZD #19574)- TVSDKがDRMまたはDRM以外のコンテンツ用のM3U8応答データを返していない

PTMediaPlayerItem.prepareToPlay内のマニフェストファイルの初期読み込みで、マニフェストの読み込みに失敗した場合、TVSDKは、アプリケーションに対する失敗応答の本文をレポートしません。

この問題は、TVSDKが失敗応答をエラーとしてアプリケーションに報告できるようにすることで解決されました。

* (ZD #19615) — フォールバックロジックが機能しません

現在の実装では、フォールバック広告はスキップされ、再パッケージ化されませんでした（これらの広告がm3u8形式の場合を除く）。 この問題は、フォールバック広告の再パッケージ化のサポートを追加することで解決されました。

* (ZD #19770)- TVSDKは、302リダイレクトを使用して保護されたAESコンテンツを再生できません。

リダイレクトURLをマニフェストの解析に使用する前にcleanConnectionDataによって消去されていたので、リダイレクトの問題が修正されました。

* (ZD #19856) — デフォルトで有効になっている場合、一部のビットレートでサブタイトルが表示されません。

この問題は、サブタイトルが表示されないストリームのセグメントでiOSのエラーを処理することで解決されました。

* (ZD #19868) — 無効なクリエイティブが配信されると、TVSDKがクラッシュします。

vastパーサーのインスタンスの割り当てを誤って解除したTVSDKのクラッシュが修正されました。

* (ZD #20180) - VPAID広告が時々スキップされる

JavaScriptのMIMEタイプが必ずしも有効なMIMEタイプとして含まれていなかったか、考慮されていなかった問題を修正しました。 この問題は、JavaScriptを有効なMIMEタイプとして含めることで解決されました。

* (ZD #20749) — フォールバックは、空でないVAST応答をスキップします。追加の広告トラッキングURLが発生した

一部のクリエイティブが再パッケージ化されない問題が修正されました。

**iOS 6.0以降の場合のバージョン1.4.19** (1.4.19.563)

* ZD #18639) - TVSDKは、長時間のホットレコーディングアセットに対して過剰なCPU/リソースを使用します。

この問題は、DRM m3u8プレイリストの書き換えを、以前に書き換えられたプレイリストのキャッシュビットに最適化することで解決されました。 これは、セグメントがダウンロードされるたびにm3u8がダウンロードされるライブm3u8ストリームを再生する場合に最も重要です。

* (ZD#18956) - iOSデモプレイヤーでブレークポイントが設定されている場合、player.drmManagerはnilです。

この問題は、PTMediaPlayer.drmManager API実装を更新してDRMフレームワークからDRMManagerを取得することで解決されました。

**iOS 6.0以降の場合のバージョン1.4.18** (1.4.18.557)

* (ZD #18844)iOSプレーヤーでのライブコンテンツの再生ヘッドの追跡。

この問題は、アプリケーションが独自の再生ヘッド値を設定できるようにすることで解決されました。

* (Zendesk #18518) — ビデオ名が指定されていない場合、TVSDKの名前はデフォルトで* PSDKベースのプレイヤーになります。*

この問題は、プレイヤー名のデフォルト値を削除することで解決されました。

**iOS 6.0以降の場合のバージョン1.4.17** (1.4.17.545)

* (Zendesk #2228)- TVSDKを拡張して、マニフェストのフェッチのJSON応答を返します。

コンテンツがM3U8でない場合は、エラーを送信する代わりに、DRMフレームワークがnil DRMMetadataを返します。 この問題は、M3U8_PARSER_ERROR通知が発生した場合に、コンテンツを公開するメタデータを追加することで解決しました。

* (Zendesk #2231)- MediaPlayerNotificationで使用できないマニフェストのフェッチからエラーが返されました。

Zendesk #2228と同じ解像度

* (Zendesk #3304) - VAST 3.0 `[ERRORCODE]`マクロが入力されていない

トラッキングURLの先頭にスペースが含まれている場合に、Auditude SDKがpingの送信に失敗する問題が解決されました。

* (Zendesk #17294) - SecKeyRawSignのクラッシュ

顧客のコードがキーチェーンを使用する場合に発生する可能性のあるクラッシュが解決されました。

* (Zendesk #18008) - iOS8以降のcookieをサポートし、トークン化されたストリームをサポート

Akamaiトークン化ストリームは、セグメントリクエストに対してcookieを送信する必要があります。これは、iOS 7以前ではできませんでした。 iOS 8以降、Appleは、セグメントリクエストに対してcookieを渡すことを可能にするAPIを追加しました。 このサポートは、TVSDKで利用できるようになりました。 また、ユーザーエージェントを送信する機能も追加されました（可能な場合）。

* (Zendesk #18166) - TVSDK 1.4.15は、dSYMファイルオプションを使用してDWARFとコンパイルする際に、数百の警告を出します。

すべての警告が解決されました。

**注意**:tvOS互換のライブラリがTVSDK用に追加されました。

**バージョン1.4.16** (1.4.16.1454)

* Zendesk #3875 — 再生中にタブがクラッシュする

TVSDKはcurlではなくhttprconnectionを直接使用するので、CRSのauditudeに対するOKHTTPの依存関係を元に戻しました。 この問題は、別のJNI呼び出しを行う前に例外をクリアすることで解決されました。

* (Zendesk #4487) — コンテンツの線形チャネルの追跡

この問題は、リニアストリーム再生セッション中にビデオハートビートトラッカーを再初期化することで解決されました。

* (Zendesk #17919)- Android — コンテンツシークによってハートビートエラーが発生する

問題は、チャプター内でシークが発生した場合に、エラー状態のハートビートを解決することでした

* (Zendesk #18053) - TVSDKを使用するアプリケーションがMarshmallowでクラッシュする

TVSDKライブラリがYUV `->` RGBカラー変換を行うネオンコードを使用している場合に、TVSDKがAndroid M OSでクラッシュしていました。 この問題は、ネオンでないバージョンの`code`を使用して、この問題の原因となっている機能を更新することで解決しました。

* (Zendesk #18072) - Android M — アプリケーションクラッシュ

プロファイルとレベルがサポートされているかどうかを確認する際に、MediaCodecListおよびMediaCodecInfo APIを呼び出すと、このクラッシュが発生します。 Adobeは、Googleのサポートを求めています。 この問題は、コーデック情報が必要な場合にのみこれらのAPIを呼び出すのを避けるために、すべてのコーデック情報を事前に読み込むことで、一時的な対処を提供することで解決されました。

* (Zendesk #18074) - Android 6.0のNexusでアラビア語のサブタイトルが機能しない

この問題は、Android CTSフォントマップのサポートを提供することで解決されました。

**iOS 6.0以降の場合のバージョン1.4.15** (1.4.15.512)

**注意**:ニールセンモジュールはTVSDKビルドから削除されましたが、近い将来、TVSDKは新しいニールセン統合モジュールに更新される予定です。

* (ZD #2228)- MediaPlayerNotificationで使用できないマニフェストのフェッチからエラーが返されます。

通知M3U8_PARSER_ERRORが発生した場合にコンテンツを公開するメタデータを追加しました。

* (ZD #4437) -Adobe PrimetimeSDK内でクラッシュ

サブタイトル/代替オーディオを準備する際に報告されたクラッシュが修正されました。

* (ZD #4487) — コンテンツのリニアチャネルの追跡

リニアストリーム再生セッション中にビデオハートビートトラッカーを再初期化できます。

**iOS 6.0以降の場合のバージョン1.4.14** (1.4.14.498)

* (ZD #17260) - playlistManagerForURLでのクラッシュ

並行性の問題が原因で断続的にクラッシュする問題を修正しました。

**バージョン1.4.13** （iOS 6.0以降）

* (ZD #3304) - VAST 3.0 `[ERRORCODE]`マクロが入力されていない

   * エラーコード400は、インラインの場合に表示されます。   広告のクリエイティブが悪い。
   * `[ERRORCODE]` マクロはURLエンコードされます。

* (ZD #3865)IMA広告とのハートビート統合

ビデオの長さが正しくレポートされないバグを修正しました。

* iOS 9をサポートするようにTVSDKデモプレイヤーを更新

iOS 9を正しくサポートするには、Application Transportation Securityの例外を設定する必要があります。 デモの目的で、ATSは完全に無効になります。

**iOS 6.0以降の場合のバージョン1.4.12** (1.4.12.464)

* (ZD #4521)CRS Testing Client Side and SSAI

3P URLの誤った逆MD5を修正しました。

**iOS 6.0以降の場合のバージョン1.4.12** (1.4.12.463)

* (ZD #2751) CSAIおよびCRS/Enhance:特定のメディアファイルURLの動的要素を処理します。

Creative Repackaging Serviceが更新され、動的なクリエイティブURLを含む広告が適切に処理されるようになりました。

* (ZD #3654)1.3.4.166以降のPSDKバージョンでのメモリリーク

iOS 8.2デバイスでの通常の再生に伴うdrmFrameworkでのメモリリークを修正しました。

* (ZD #3988)最初の再生後に再びシークすると、プリロールはスキップされます。

広告ポリシーが適切に無効になる可能性があるバグを修正しました。

* (ZD #4017)後方シーク時に広告再生を強制するようiOS APIに要求

ZD #4279に対する修正により解決

* (ZD #4279)iOSおよびデスクトップでのHLS TVSDK広告挿入 —302リダイレクトの問題

広告アセットが相対リダイレクトURLを使用していた場合のバグを修正しました。

**iOS 6.0以降の場合のバージョン1.4.9** (1.4.9.427)

* (ZD #3075)インターネット到達可能性の問題 — iOS

再生が停止したことを検出する通知を追加しました。

* (ZD #3193)TVSDKでのプロファイル変更APIのリクエスト

PTPlaybackInformationが更新され、更新されたindicatedBitrateが公開されるようになりました。 M3U8で報告されたビットレートに対して、より信頼性が高く正確なBITRATE_CHANGE通知が更新されました。

* (ZD #3324)VMAPに広告メディアがない場合のPrimetime広告のレポートの問題

空の広告ブレークトラッキングURLのpingをサポートし、TVSDKは、広告ブレークの開始と、空の広告ブレークに対する完了pingを検証するようになりました。

**バージョン1.4.8** (1.4.8.402)

* (ZD #3158)フルイベント再生でIOS 7がクラッシュする

**バージョン1.4.7** (1.4.7.382)

* (ZD #2197)広告エラーの追跡。 アセットの通知を追加し、マニフェストを読み込めませんでした。
* (ZD #2894)プレイヤーは、再生中に4つのトップレベルのマニフェストリクエストを行います。
* (ZD #2992)Auditudeレポートの奇妙な時間と識別子。

**バージョン1.4.6**(1.4.6.325)

* (ZD #2197)広告エラーの追跡。 アセットの通知を追加し、マニフェストを読み込めませんでした

**バージョン1.4.5** (1.4.5.283)

* (ZD #2141) TreeHouseアプリの解析実装に、パッケージを構築するために`AdobeAnalyticsPlugin.a`ライブラリが追加されました。
* 1.4.1.2へのビデオハートビートライブラリの更新
* (PTPALY-4226)（ZD #2423に関連）DRMリセットを実行すると、アプリケーションドキュメントデータが削除される場合があります。

**バージョン1.4.4** (1.4.4.242)

* ビデオハートビートライブラリ(VHL)が1.4.1に更新されました。

* (ZD #2435)解析の更新が必要なTV SDKドキュメント

**バージョン1.4.2** (1.4.2.210:iOS 6.0以降)

* (ZD #1129) `_player.currentItem.audioOptions`が空を返す
* (ZD #2109)Primetime PSDK 1.4.1.125はXcode 5.1.1では動作しません。
* (ZD #2137)DRMメタデータを読み込めない場合にiOS上のPSDKでクラッシュする

**バージョン1.4.1**(1.4.1.125)

* (ZD #1107) CocoaLumberjack重複シンボル
* (ZD #1644)ターゲット設定とレポート用のiOSユーザーエージェントの変更
* (ZD #1850)iOS SDKに含まれるCocoa Lumberjackファイル
* (ZD#1908)カスタムタグが1を超える場合、PSDKは無視します。

**バージョン1.4.0** (1.4.0.32)

* Zendesk #1024 — マニフェストを介してストリームから広告を削除する機能

## デバイスの認定とサポート{#device-certification-and-support}

>[!NOTE]
>
>以下の機能は、TVSDKでは&#x200B;**サポートされていません**。
>
>* プラットフォームやバージョンでのスローモーション。
>* ライブトリック再生。


**バージョン1.4.43**

* TVSDK 1.4.43は、iOS 11向けに認定されています。

**バージョン1.4.29**

* TVSDK 1.4.29はiOS 10に対して認定されています。

**バージョン1.4.28**

* TVSDK 1.4.28はiOS 10 Beta 7用に認定されています。
* `forceHTTPS` APIと`isForcingHTTPS` APIを追加してHTTPSを強制的にサポートするDRMを追加しました。
* VHLライブラリを1.5.8に、Adobeモバイルライブラリを4.8.4に、ロガーユーティリティライブラリをバージョン7.0デプロイメントターゲットに更新しました。

**バージョン1.4.19**

このバージョンのTVSDKは、iOSおよびtvOS向けFairPlayサポートで認定されています。

**バージョン1.4.17**

* tvOS

   このバージョンのTVSDKは、tvOSのサポートを含み、非暗号化のHLSストリームに対して認定されています。

   **注意**:次のコンパイルガイドラインに注意してください。

   * TVSDK tvOsのサポートは、非AdobeのDRM暗号化ストリームに制限されています。 tvOSビルド設定でdrmNativeInterface.frameworkへの参照を削除する必要があります。 AES暗号化ストリームは引き続きサポートされます。
   * Appleでは、すべてのApple TVアプリケーションでビットコードを有効にする必要があるので、プロジェクト設定でこのフラグをオンにする必要があります。

## 既知の問題と制限{#known-issues-and-limitations}

* iOS UIWebViewクラスの非推奨のため、iOS TVSDK 3.6以降では次の処理が行われます。
   * iPad 13では、VPAID広告は期待どおりに再生されません。
   * コンパニオン広告は期待どおりに再生されません。

* iOS TVSDKでは、すべての広告がコンテンツマニフェストに繋ぎ合わされます。 広告動作は、コンテンツおよび広告セグメントの長さに基づいてシークすることで実装されます。 したがって、セグメントの継続時間が正確でない場合、シークは広告の時間の開始と終了の正確なフレームで終わるとは限りません。 フレームに継続時間が設定されている場合でも、プラットフォーム自体がシークに影響し、数フレーム、広告またはコンテンツが表示される場合があります。 これは、プラットフォームの制限事項であり、iOS上のTVSDKでの広告挿入の動作方法が異なります。
* スキップの決定は、この場合のシークイベントで発生します。 ただし、マニフェスト内の広告セグメントの継続時間が広告の実際の継続時間を正確に表していないので、シークはフレーム精度ではありません。 したがって、広告ポリシーが適用されると、広告のフレームが数フレーム表示されます。
* iOS 11ではライセンスローテーションビデオは再生されず、iOS 9.xおよびiOS 10.xでは正常に再生されます。
* VPAID 2.0サポートでは、AirPlay上で再生がアクティブな場合、VPAID広告はスキップされます。
* 最小ターゲットがiOS7（またはそれ以降）に設定されている場合、drmNativeInterface.frameworkは正しくリンクされません。
回避策：libstdc++.6.dylibライブラリを次のように明示的に指定します。「ターゲット」>「Build Phases」>「Link Binary with Libraries」に移動し、libstdc++.6.dylibを追加します。
* ポストロール広告が置換APIに挿入されません。
* 広告の時間内を（広告の時間から外れることなく）シークすると、重複広告の開始と広告の時間の通知が発行されます。
* currentTimeUpdateIntervalを設定しても何も起こりません。
注意：特定のiOSバージョンでは、OSはPSDKLibrary.framework内のリソースを自動的に読み込みません。 PSDKResources.bundleをアプリケーションのバンドルリソースに手動でコピーすることが重要です。「Build Phases」に移動し、バンドルリソースをコピーします。
* Reference Appは、Xcode 8以前のバージョンを使用して構築することはできません。 iOS TVSDKバージョン1.4.41以降では、Xcode 9を使用してコンパイルします。
* VPAID広告はdelayAdLoadingTolerance値を順守しません。
* 24077 — サブタイトルを持つ特定のHLSコンテンツで、停止またはリセットの方法で、プレーヤーがクラッシュする。
* ジャストインタイム広告の解決が有効になっている場合、詳細なエラー通知は使用できません。
* エラー通知は、広告の解決時間ごとではなく、広告のシーケンスごとに記録されます。
* HEVCのサポートには、このリリースで次の制限があります
   * DRMはサポートされていません
   * CC(CEA 608/708)は、CMAFではサポートされていないためサポートされません。
   * 4Kのサポートはまだ存在しません。
   * ID3タグはCMAFでサポートされていないので、使用できません。
   * 無効なライブHEVCストリームが検証されていません。
   * HEVC広告のサポートは検証されていません。
* JITが有効で許容値が10秒に設定されている場合、VMAP->VASTリダイレクト広告の場合、最初のミッドロール広告の時間に対してVAST呼び出しは表示されません。
* 広告解像度タイムアウトが正しく機能するために、ライブストリームの再生中にプレイリストが更新されるたびに、プレイヤーは20秒以内に関連付けられたプレイリストを期待します。 この間隔内に関連付けされたプレイリストを受け取らない場合、内部エラーがスローされ、プレイヤーが停止します。

## 役立つリソース{#helpful-resources}

* [TVSDK 3.4 iOSプログラマーガイド](https://docs.adobe.com/content/help/en/primetime/programming/tvsdk-3x-for-ios/introduction/ios-3x-overview.html)
* [TVSDK iOS 3.4 APIリファレンス](https://help.adobe.com/en_US/primetime/api/psdk/appledoc_v34/index.html)
* [Adobe Primetimeラーニングとサポート](https://helpx.adobe.com/support/primetime.html)のページにある完全なヘルプドキュメントを参照してください。
