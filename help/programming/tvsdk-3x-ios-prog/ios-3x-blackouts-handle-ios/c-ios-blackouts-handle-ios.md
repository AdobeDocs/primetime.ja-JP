---
description: TVSDKは、ライブビデオストリームのブラックアウトを処理し、ブラックアウト中に代替コンテンツを提供します。
seo-description: TVSDKは、ライブビデオストリームのブラックアウトを処理し、ブラックアウト中に代替コンテンツを提供します。
seo-title: ブラックアウトの処理
title: ブラックアウトの処理
uuid: 00b6f204-6ba4-4245-9028-6f7c392e9275
translation-type: tm+mt
source-git-commit: 557f42cd9a6f356aa99e13386d9e8d65e043a6af

---


# ブラックアウトの処理 {#handle-blackouts}

TVSDKは、ライブビデオストリームのブラックアウトを処理し、ブラックアウト中に代替コンテンツを提供します。

プログラミングのブラックアウトに関連する最も一般的な使用例は、メインストリームを視聴する資格のないユーザーに対して、プレイヤーアプリが代替コンテンツを提供する場合です。 このアプリは、TVSDKを使用して、ブラックアウト期間の開始と終了を判断できます。 このようにして、ブラックアウト期間の開始時に、再生はメインストリームから代替ストリームに切り替え、ブラックアウト期間が終了したらメインストリームに切り替えることができます。

この使用例に対してソリューションを実装するには：

1. ライブストリームマニフェストのブラックアウトタグをサブスクライブするようにアプリを設定します。

   TVSDKは、ブラックアウトタグを直接認識しませんが、マニフェストファイルの解析中に特定のタグが検出された場合に、アプリケーションが通知をサブスクライブできるようにします。
1. の通知リスナーを追加しま `PTTimedMetadataChangedNotification`す。

   この通知は、サブスクライブされたタグがマニフェストで解析され、新しいタグがマニフェストから準備されるた `PTTimedMetadata` びにディスパッチされます。

1. フォアグラウンド内のオブジェクトに対して、な `onMediaPlayerSubscribedTagIdentified`どのリスナー `PTTimedMetadata` メソッドを実装します。

1. 再生中に更新が行われるたびに、リスナーを使用して `PTMediaPlayerTimeChangeNotification` オブジェクトを処理 `PTTimedMetadata` します。

1. ハンドラーを追 `PTTimedMetadata` 加します。

   このハンドラーを使用すると、代替コンテンツに切り替えて、オブジェクトに示されるメインコンテンツとその再 `PTTimedMetadata` 生時間に戻ることができます。

1. バックグ `onSubscribedTagInBackground` ラウンドでオブジェクトのリスナー `PTTimedMetadata` メソッドを実装する場合に使用します。

   このメソッドは、バックグラウンドストリームのタイミングを監視し、代替コンテンツからメインコンテンツに切り替えられるタイミングを判断するのに役立ちます。

1. バックグラウンドエラーのリスナーメソッドを実装します。
1. ブラックアウトの範囲が再生ストリームのDVRに含まれている場合は、シーク不可能な範囲を更新します。

   次の場合、DVRでアプリケーションがシーク不可能範囲を設定する必要があります。

   * ブラックアウトがDVRにある場合に、メインストリームに結合する場合。
   * 代替コンテンツからメインコンテンツに切り替える場合。