---
description: HLSストリームとDASHストリームは、同じビデオの短いバーストを目的として異なるビットレートエンコーディング(プロファイル)を提供します。 TVSDKは、使用可能な帯域幅に基づいて、各バーストの品質レベルを選択できます。
seo-description: HLSストリームとDASHストリームは、同じビデオの短いバーストを目的として異なるビットレートエンコーディング(プロファイル)を提供します。 TVSDKは、使用可能な帯域幅に基づいて、各バーストの品質レベルを選択できます。
seo-title: ビデオ画質に関する可変ビットレート(ABR)
title: ビデオ画質に関する可変ビットレート(ABR)
uuid: a9b9a6a8-4098-4952-90e7-684e64800b3f
translation-type: tm+mt
source-git-commit: a63768e51c911914a6ba9d884e2587fa34939f9d
workflow-type: tm+mt
source-wordcount: '580'
ht-degree: 0%

---


# ビデオ画質の可変ビットレート(ABR) {#adaptive-bit-rates-abr-for-video-quality}

HLSストリームとDASHストリームは、同じビデオの短いバーストを目的として異なるビットレートエンコーディング(プロファイル)を提供します。 TVSDKは、使用可能な帯域幅に基づいて、各バーストの品質レベルを選択できます。

TVSDKは、常にビットレートを監視し、現在のネットワーク接続に最適なビットレートでコンテンツが再生されるようにします。

可変ビットレート(ABR)切り替えポリシーと、マルチビットレート(MBR)ストリームの初期、最小、最大ビットレートを設定できます。 TVSDKは、指定された設定で最高の再生エクスペリエンスを提供するビットレートに自動的に切り替えます。

<table id="table_AF838E082235406AA359BF1C1A77F85F"> 
 <tbody> 
  <tr> 
   <td colname="col01"> 初期ビットレート </td> 
   <td colname="col2"> <p>最初のセグメントに対する目的の再生ビットレート（ビット/秒）。 再生開始の場合、最初のセグメントには、初期ビットレートと等しいかそれ以上の最も近いプロファイルが使用されます。 </p> <p> 最小ビットレートが定義され、初期ビットレートが最小ビットレートより低い場合、最小ビットレートを超える最小ビットレートを持つプロファイルがTVSDKによって選択されます。 初期レートが最大レートを超える場合、TVSDKは最大レートを下回る最も高いレートを選択します。 </p> <p>初期ビットレートが0または未定義の場合、初期ビットレートはABRポリシーによって決定されます。 </p> </td> 
  </tr> 
  <tr> 
   <td colname="col01"> 最小ビットレート </td> 
   <td colname="col2"> <p>ABRで切り替え可能な最小許容ビットレートです。 ABR切り替えでは、このビットレートより低いビットレートのプロファイルは無視されます。 </p> </td> 
  </tr> 
  <tr> 
   <td colname="col01"> 最大ビットレート </td> 
   <td colname="col2"> <p>ABRで切り替え可能な最大許容ビットレートです。 ABR切り替えでは、このビットレートよりも大きいビットレートのプロファイルは無視されます。 </p> </td> 
  </tr> 
 </tbody> 
</table>

次の情報に注意してください。

* TVSDKは、ビットレートの切り替えからイベントをディスパッチしません。
* ABR設定はいつでも変更でき、プレイヤーは最新の設定に最も近いプロファイルを使用するように切り替わります。

例えば、ストリームに次のプロファイルがあるとします。

* 1:300000
* 2:700000
* 3:1500000
* 4:2400000
* 5:4000000

300000 ～ 200000の範囲を指定した場合、TVSDKはプロファイル1、2、3のみを考慮します。 これにより、アプリケーションをWiFiから3Gへの切り替えや、スマートフォン、タブレット、デスクトップコンピューターなどの様々なデバイスへの切り替えなど、様々なネットワーク条件に合わせて調整できます。

## 可変ビットレートの設定{#section_572FCE4CC28D4DF8BD9C461F00B3CA17}

TVSDKの可変ビットレートパラメーターを設定するには：

1. `PTABRControlParameters`のインスタンスを設定して、初期、最小、最大ビットレートの設定を行います。

   次のコードスニペットでは、デフォルト値が表示されますが、アプリケーションでは、これらの各パラメーターに任意の整数値を設定できます。

   >[!IMPORTANT]
   >
   >ビットレート設定はbps(bps)単位で指定します。

   ```
   // ARC (add autorelease for non-ARC) 
   PTABRControlParameters *abrMetaData =  
       [[PTABRControlParameters alloc] init];  
   
   abrMetaData.initialBitRate = -1; 
   abrMetaData.minBitRate = 0; 
   abrMetaData.maxBitRate = INT_MAX;
   ```

1. `PTMediaPlayer`インスタンスを、設定済みの`PTABRControlParameters`インスタンスで更新します。

   ```
   // assuming self.player is the PTMediaPlayer instance 
   self.player.abrControlParameters = abrMetaData;
   ```

次の点に注意してください。

* 初期ビットレートと最小ビットレートの設定を有効にするには、`PTMediaPlayerItem`インスタンスを設定する前に、アプリケーションで`abrControlParameters`プロパティを`PTMediaPlayer`に設定する必要があります。

   コンテンツ再生開始後は、新しいインスタンスを設定すると、最大ビットレート設定にのみ影響します。

* 再生中に最大ビットレート設定を更新するには、新しい`PTABRControlParameters`インスタンスを作成し、それをプレイヤーインスタンスに設定します。
* 最大ビットレート設定は、iOS 8.0以降でのみ再生中に更新できます。 以前のバージョンでは、コンテンツの再生開始前に設定された`maxBitrate`値が使用されます。