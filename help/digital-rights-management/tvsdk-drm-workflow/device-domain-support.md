---
description: 通常、すべてのPrimetime DRMライセンスは、作成時に一意のデバイスに結び付けられます。 このバインディングにより、ユーザーは認証なしで異なるデバイス間でライセンスを共有できなくなります。 Primetime DRMでは、デバイスごとのバインディングに加えて、デバイスドメインまたはデバイスのグループにライセンスをバインドする機能も提供します。
seo-description: 通常、すべてのPrimetime DRMライセンスは、作成時に一意のデバイスに結び付けられます。 このバインディングにより、ユーザーは認証なしで異なるデバイス間でライセンスを共有できなくなります。 Primetime DRMでは、デバイスごとのバインディングに加えて、デバイスドメインまたはデバイスのグループにライセンスをバインドする機能も提供します。
seo-title: ドメインサポートを使用した暗号化コンテンツの再生
title: ドメインサポートを使用した暗号化コンテンツの再生
uuid: 8854cc0f-9bfc-4833-82d7-a3f46ac88e06
translation-type: tm+mt
source-git-commit: e60d285b9e30cdd19728e3029ecda995cd100ac9

---


# デバイスドメインのサポート {#device-domain-support}

通常、すべてのPrimetime DRMライセンスは、作成時に一意のデバイスに結び付けられます。 このバインディングにより、ユーザーは認証なしで異なるデバイス間でライセンスを共有できなくなります。 Primetime DRMでは、デバイスごとのバインディングに加えて、デバイスドメインまたはデバイスのグループにライセンスをバインドする機能も提供します。

コンテンツメタデータでデバイスドメインの登録が必要であることが指定されている場合、アプリケーションはAPIを呼び出してデバイスグループに参加できます。 このアクションは、ドメインサーバーに送信されるドメイン登録要求をトリガーします。 ライセンスがデバイスグループに対して発行されると、そのライセンスを書き出し、デバイスグループに参加している他のデバイスと共有できます。

次に、デバイスグループ情報がオブジェクトで使用さ `DRMContentData``VoucherAccessInfo` れます。この情報は、ライセンスを正常に取得し、使用するために必要な情報を表示するために使用されます。

## ドメインサポートを使用した暗号化コンテンツの再生 {#play-encrypted-content-using-domain-support}

Primetime DRMを使用して暗号化されたコンテンツを再生するには、次の手順を実行します。

1. を使用し `VoucherAccessInfo.deviceGroup`て、デバイスグループの登録が必要かどうかを確認します。
1. 認証が必要な場合：
   1. プロパティを使 `DeviceGroupInfo.authenticationMethod` 用して、認証が必要かどうかを調べます。
   1. 認証が必要な場合は、次の手順のいずれかを実行してユーザーを認証します。

      * ユーザーのユーザー名とパスワードを取得し、呼び出しま `DRMManager.authenticate(deviceGroup.serverURL, deviceGroup.domain, username, password)`す。
      * キャッシュ/事前生成された認証トークンを取得し、を呼び出しま `DRMManager.setAuthenticationToken()`す。
   1. 呼び出し `DRMManager.addToDeviceGroup()`
1. 次のいずれかのタスクを実行して、コンテンツのライセンスを取得します。
   1. メソッドを使用 `DRMManager.loadVoucher()` します。
   1. 同じデバイスグループに登録されている別のデバイスからライセンスを取得し、その方法を通じてにライセン ` DRMManager` スを提供 `DRMManager.storeVoucher()` します。
1. 暗号化されたコンテンツを再生するには、次の方法 `Primetime.play()` を使用します。
コンテンツのライセンスを書き出すために、Primetime DRMライセンスサーバーからライセンスを取得した後、どのデバイスでも、この方法を使用してライ `DRMVoucher.toByteArray()` センスの未加工バイトを提供できます。 通常、コンテンツプロバイダーはデバイスグループ内のデバイス数を制限します。 制限に達した場合は、現在のデバイスを登録する前に、未使用のデバ `DRMManager.removeFromDeviceGroup()` イスでメソッドを呼び出す必要がある場合があります。