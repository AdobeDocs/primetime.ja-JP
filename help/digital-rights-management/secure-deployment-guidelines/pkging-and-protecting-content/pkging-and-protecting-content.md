---
description: コンテンツのパッケージ化と保護に関する情報を使用すると、コンテンツを保護できます。
title: コンテンツのパッケージ化と保護
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '805'
ht-degree: 0%

---

# コンテンツのパッケージ化と保護 {#packaging-protecting-content}

コンテンツのパッケージ化と保護に関する情報を使用すると、コンテンツを保護できます。

## サーバーの保護 {#securing-the-server}

ポリシーの管理とコンテンツのパッケージ化が行われるコンピュータを物理的に保護する必要があります。

詳しくは、 [物理的なセキュリティとアクセス](../../secure-deployment-guidelines/physical-sec-and-access.md).

コンテンツパッケージの実装にネットワーク接続が必要な場合は、オペレーティングシステムを強化し、適切なファイアウォールソリューションを実装する必要があります。 詳しくは、 [ネットワークトポロジ](../../secure-deployment-guidelines/overview/network-topology.md).

## コンテンツの安全なパッケージ化 {#securely-packaging-content}

Adobe Primetime DRM Media Packager コマンドラインツールの設定ファイルには、パッケージ化時に使用する PKCS12 秘密鍵証明書が必要です。

Reference Implementation コマンドタインツールでは、PKCS12 秘密鍵証明書ファイルのパスワードは、 `flashaccess.properties` ファイルをクリアテキストで指定します。 このため、このファイルをホストするコンピューターを保護し、そのコンピューターが安全な環境にあることを確認する際は、特に注意が必要です。 詳しくは、 [物理的なセキュリティとアクセス](../../secure-deployment-guidelines/physical-sec-and-access.md).

また、パッケージャは、License Server と License Server のトランスポート証明書も使用します。また、この情報の整合性と機密性を保護する必要があります。 パッケージャーの使用を許可するのは、許可されたエンティティのみです。 秘密鍵が漏洩した場合は、証明書が失効できるよう、すぐにAdobe Systems Incorporatedに通知します。

>[!NOTE]
>
>API を使用すると、同じキーを複数のコンテンツに使用できます。 最高レベルのセキュリティを確保するには、この機能をマルチビットレート FMS コンテンツにのみ使用する必要があります。 異なるコンテンツを表す複数のファイルに同じキーを使用しないでください。

Primetime DRM パッケージ化 API は、特定の条件下で警告を発行します。 これらの警告を確認して、ファイルが正常に暗号化されたかどうかを判断します。 警告メッセージは、次のいずれかになります。

* ポリシーの有効期限が切れ、認識されていないタグまたはトラックを暗号化できません。
* ムービーフラグメントは暗号化できず、それらのフラグメント内の参照が無効な可能性があります。
* メタデータは暗号化できません。

誤った属性を持つポリシーを使用してコンテンツをパッケージ化した場合は、ポリシーを更新する必要があります。 更新されたポリシーは、ポリシー更新リストまたは別の配信メカニズムを使用して、License Server で使用可能にする必要があります。 一部のポリシー属性は、ポリシーの作成後は変更できません。 これらの属性が正しくない場合は、配布サイトからコンテンツを取り戻し、今後のライセンスが付与されないようにポリシーを取り消し、コンテンツを再度暗号化します。

パッケージ化が完了すると、パッケージキーはガベージコレクションされ、明示的に破棄されることはありません。 その結果、パッケージキーは、しばらくの間メモリに残ります。 マシンへの不正なアクセスを防ぎ、コアダンプなど、この情報が明らかになる可能性のあるファイルを公開しないようにする必要があります。

## ポリシーの安全な保存 {#securely-storing-policies}

Adobe Primetime DRM SDK を使用すると、コンテンツのパッケージ化やポリシー作成に使用できるアプリケーションを開発できます。

これらのアプリケーションを作成する場合、一部のユーザーに対してポリシーの作成と変更を許可し、他のユーザーに対して、既存のポリシーをコンテンツに適用するよう制限できます。 必要なアクセス制御を実装し、ポリシーの作成とポリシーアプリケーションに対して異なる権限を持つユーザーアカウントを作成する必要があります。

ポリシーは、パッケージ化で使用されるまで、署名も保護もされません。 パッケージツールのユーザーがポリシーを変更する可能性がある場合は、ポリシーに署名し、ポリシーを変更できないようにします。

SDK を使用してアプリケーションを作成する方法について詳しくは、 [API Primetime API リファレンス](https://help.adobe.com/en_US/primetime/api/index.html#api-Adobe_Primetime_API_References).

## 非対称キーの暗号化 {#asymmetric-key-encryption}

非対称キー暗号化は、公開鍵暗号化とも呼ばれ、キーのペアを使用します。 一方のキーは暗号化用で、もう一方のキーは復号用です。

復号キー、 *`private key`*&#x200B;は秘密鍵として保持されます。暗号化キー、または *`public key`*&#x200B;は、コンテンツの暗号化の権限を持つすべてのユーザーが使用できるようになります。 公開鍵にアクセスできるユーザーは誰でも、コンテンツを暗号化できます。 ただし、秘密鍵へのアクセス権を持つユーザーのみがコンテンツを復号化できます。 秘密鍵は、公開鍵から再構築できません。

コンテンツをパッケージ化する際、ライセンスサーバーの公開鍵を使用して、DRM メタデータ内のコンテンツ暗号化キー (CEK) が暗号化されます。 ライセンスサーバーの秘密鍵にアクセスできるのは、ライセンスサーバーだけです。 他のユーザーが鍵を持っている場合は、そのユーザーは復号化してコンテンツを表示できます。

>[!CAUTION]
>
>公開鍵を含むライセンスサーバーの証明書を、信頼できるソースから取得していることを確認してください。 これにより、不正な公開鍵ではなく、ライセンスサーバの鍵であることを確認できます。 攻撃者がライセンスサーバの鍵に公開鍵を置き換えると、その内容を復号化できます。

コンテンツのパッケージ化方法について詳しくは、 [コンテンツの保護にAdobe Primetime DRM SDK を使用](https://helpx.adobe.com/content/dam/help/en/primetime/drm/drm_protecting_content.pdf).
