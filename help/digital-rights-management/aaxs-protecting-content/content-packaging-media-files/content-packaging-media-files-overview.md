---
title: 概要
description: 概要
copied-description: true
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '867'
ht-degree: 0%

---

# 概要 {#overview}

*パッケージ* とは、ポリシーを暗号化して FLV または F4V ファイルに適用するプロセスを指します。 ファイルをパッケージ化するには、メディアパッケージ化 API を使用します。 Adobeアクセス Java SDK でパッケージ化できるのは、プログレッシブダウンロードFlashとAIRコンテンツ（FLV、F4V、MP4 など）のみです。 AdobeHTTP Dynamic Streaming(HDS) やApple HTTP Live Streaming(HLS) など、他のコンテンツ形式にAdobeアクセス DRM を使用してコンテンツをパッケージ化するには、Adobe Media Server( [https://www.adobe.com/products/adobe-media-server-family.html](https://www.adobe.com/products/adobe-media-server-family.html)) またはエンコーダーブロードキャスト SDK ( [https://help.adobe.com/en_US/primetime/packagers/hdkb_api_overview_3.5.pdf](https://help.adobe.com/en_US/primetime/packagers/hdkb_api_overview_3.5.pdf)) をクリックします。 また、HDS、HLS、DASH などの様々なターゲット形式用にコンテンツをパッケージ化できる、Adobeの Java Primetime Packager ツールセットを使用することもできます。

パッケージは、ライセンスサーバから分離されます。 パッケージャがライセンスサーバーに接続して、コンテンツに関する情報を交換する必要はありません。 ライセンスの発行に必要なライセンスサーバーの情報はすべて、コンテンツのメタデータに含まれます。

ファイルを暗号化すると、その内容は適切なライセンスがなければ解析できません。 Adobeアクセスでは、ファイルの暗号化する部分を選択できます。 Adobe® Access™は FLV と F4V コンテンツのファイル形式を解析できるので、ファイル全体ではなく、ファイルの一部のみをインテリジェントに暗号化できます。 メタデータやキューポイントなどのデータは、暗号化されずに残るので、検索エンジンはファイルを検索できます。

コンテンツの特定の部分に対して、複数のポリシーを設定することができます。 これは、例えば、コンテンツを複数回パッケージ化することなく、様々なビジネスモデルでコンテンツのライセンスを取得する場合に便利です。 例えば、短期間匿名アクセスを許可し、その後、顧客がコンテンツを購入し、無制限のアクセスを持つようにできます。 コンテンツが複数のポリシーを使用してパッケージ化されている場合、ライセンスサーバは、ライセンスの発行に使用するポリシーを選択するロジックを実装する必要があります。

>[!NOTE]
>
>アーキテクチャを使用すると、コンテンツをパッケージ化する際に、使用ポリシーを指定し、コンテンツに結び付けることができます。 クライアントがコンテンツを再生する前に、クライアントはそのコンピュータのライセンスを取得する必要があります。 ライセンスは、適用される使用ルールを指定し、コンテンツの復号化に使用するキーを提供します。 このポリシーはライセンスを生成するためのテンプレートですが、ライセンスサーバはライセンスの発行時に使用規則を上書きするよう選択する場合があります。 有効期限や再生ウィンドウなどの制約によって、ライセンスが無効に表示される場合があることに注意してください。

コンテンツをパッケージ化する際には、多数のオプションを使用できます。 これらは、 `DRMParameters` インターフェイスと、そのインターフェイスを実装するクラス ( `F4VDRMParameters` および `FLVDRMParameters`. これらのクラスを使用すると、署名とキーのパラメーターを設定し、オーディオコンテンツ、ビデオコンテンツまたはスクリプトデータを暗号化するかどうかを指定できます。 これらの機能がリファレンス実装でどのように実装されているかを確認するには、 Media Packager のコマンドラインオプションの説明 ( *Adobeアクセス参照実装の使用*. これらのオプションは Java API に基づいているので、プログラムで使用することができます。

パッケージ化のオプションは次のとおりです。

* 暗号化オプション（オーディオ、ビデオ、部分暗号化）。
* ライセンスサーバ URL （クライアントは、ライセンスサーバに送信されるすべての要求のベース URL としてこれを使用します）
* ライセンスサーバーのトランスポート証明書
* CEK の暗号化に使用するライセンスサーバー証明書。
* メタデータに署名するための Packager の資格情報

Adobeアクセスは、CEK を渡すための API を提供します。 CEK が指定されていない場合、SDK は CEK をランダムに生成します。 通常、コンテンツの各部分に異なる CEK が必要です。 ただし、Dynamic Streaming では、そのコンテンツのすべてのファイルに同じ CEK を使用する場合が多いので、ユーザーは 1 つのライセンスのみを必要とし、1 つのビットレートから別のビットレートにシームレスに移行できます。 同じキーとライセンスを複数のコンテンツに使用するには、同じキーとライセンスを渡します `DRMParameters` ～に対して `MediaEncrypter.encryptContent()`を使用するか、 `V2KeyParameters.setContentEncryptionKey()`. コンテンツの各部分に異なるキーとライセンスを使用するには、新しい `DRMParameters` 各ファイルのインスタンス。

キーローテーションを使用してコンテンツをパッケージ化する場合、使用するローテーションキーとキーの変更頻度を制御できます。 `F4VDRMParameters` および `FLVDRMParameters` を実装します。 `KeyRotationParameters` インターフェイス。 このインタフェースを使用して、キーの回転を有効にすることができます。 また、 `RotatingContentEncryptionKeyProvider`. 暗号化された各サンプルに対して、このクラスは使用する回転キーを決定します。 独自のプロバイダーを実装するか、 `TimeBasedKeyProvider` を SDK に含めます。 この実装では、指定された秒数の後に新しいキーがランダムに生成されます。

場合によっては、コンテンツのメタデータを別のファイルとして保存し、コンテンツとは別のクライアントで使用できるようにする必要があります。 これをおこなうには、を呼び出します。 `MediaEncrypter.encryptContent()`を返します。 `MediaEncrypterResult` オブジェクト。 通話 `MediaEncrypterResult.getKeyInfo()` そして結果を以下の場所に投げ込みます。 `V2KeyStatus`. 次に、コンテンツメタデータを取得し、ファイルに保存します。

これらのタスクはすべて、Java API を使用して実行できます。 この章で説明する Java API について詳しくは、 *Adobeアクセス API リファレンス*.

Media Packager のリファレンス実装について詳しくは、 *Adobeアクセス参照実装の使用*.
