---
description: オポチュニティディテクターは、ストリーム内のカスタムタグを検出し、配置オポチュニティを識別するTVSDKコンポーネントです。 これらのオポチュニティはコンテンツリゾルバーに送信され、コンテンツリゾルバーは配置オポチュニティのプロパティとメタデータに基づいてコンテンツ/広告挿入ワークフローをカスタマイズします。
seo-description: オポチュニティディテクターは、ストリーム内のカスタムタグを検出し、配置オポチュニティを識別するTVSDKコンポーネントです。 これらのオポチュニティはコンテンツリゾルバーに送信され、コンテンツリゾルバーは配置オポチュニティのプロパティとメタデータに基づいてコンテンツ/広告挿入ワークフローをカスタマイズします。
seo-title: オポチュニティジェネレーターとコンテンツリゾルバー
title: オポチュニティジェネレーターとコンテンツリゾルバー
uuid: c49494da-2145-40d7-8f4b-2ecaf2866ca4
translation-type: tm+mt
source-git-commit: 557f42cd9a6f356aa99e13386d9e8d65e043a6af

---


# オポチュニティジェネレーターとコンテンツリゾルバー {#opportunity-generators-and-content-resolvers}

オポチュニティディテクターは、ストリーム内のカスタムタグを検出し、配置オポチュニティを識別するTVSDKコンポーネントです。 これらのオポチュニティはコンテンツリゾルバーに送信され、コンテンツリゾルバーは配置オポチュニティのプロパティとメタデータに基づいてコンテンツ/広告挿入ワークフローをカスタマイズします。

TVSDKには、次のデフォルトのオポチュニティディテクターが含まれています。

* `PTOpportunityResolver`を設定します。これは、デフォルトの広告キューを認識します。

TVSDKには、プレイヤーアイテムのメタデータキーに基づいて挿入されるコンテンツを提供する、次のデフォルトのコンテンツリゾルバーも含まれています。

* `PTContentResolver`

デフォルトのオポチュニティディテクターとコンテンツリゾルバーを上書きして、次の方法で広告ワークフローをカスタマイズできます。

* カスタムタグ検出のサポートの追加
* 広告挿入用のカスタムタグを認識する
* カスタマイズした広告プロバイダーの作成
* コンテンツの墨消し

<!--<a id="section_C2BA8F50230E4010ABFCD5D976BC1217"></a>-->

TVSDKは、広告をタイムラインに配置するデフォルトのオポチュニティジェネレーターとコンテンツリゾルバーを提供し、これらのジェネレーターとリゾルバーはマニフェスト内の非標準タグに基づいています。 アプリケーションは、ブラックアウト期間のインジケーターなど、マニフェストで識別されるオポチュニティに基づいてタイムラインを変更する必要がある場合があります。

は、通 *`opportunity`* 常、広告配置オポチュニティを示す、タイムライン上の目標地点を表します。 また、このオポチュニティは、ブラックアウト期間など、タイムラインに影響を与える可能性のあるカスタム操作を示すこともできます。 タイムラ *`opportunity generator`* イン内の特定のオポチュニティ（タグ）を識別し、TVSDKに対して、これらのオポチュニティがタグ付けされたことを通知します。 オポチュニティは、非標準（非HLS） `PTTimedMetadata` タグを含むことで、のタイムラインで識別されます。

アプリにオポチュニティ（タグ）が通知された場合、例えば、一連の広告の挿入、代替ストリーム（ブラックアウト）への切り替え、タイムラインコンテンツの編集などによって、アプリケーションがタイムラインを変更する可能性があります。 デフォルトでは、TVSDKは適切なを呼び出して、必 *`content resolver`* 要なタイムラインの変更またはアクションを実装します。 アプリケーションは、デフォルトのTVSDK広告コンテンツリゾルバーを使用するか、独自のコンテンツリゾルバーを登録できます。

また、を使用して広告マ `PTSDKConfig.setAdTags` ーカータグ/キューを追加し、TVSDKが広告ワークフロー情報を伝達する追加のタグを認識して使用し、アプリケ `PTSDKConfig.setSubscribedTags` ーションに通知できるようにすることもできます。

カスタムリゾルバーの使用例の1つは、ブラックアウト期間に対するものです。 これらの期間を処理するには、ブラックアウトタグを処理するブラックアウトオポチュニティディテクターをアプリケーションで実装し、登録します。 TVSDKは、このタグに遭遇すると、登録されているすべてのコンテンツリゾルバーをポーリングして、指定したタグを処理する最初のリゾルバーを探します。 この例では、これはブラックアウトコンテンツリゾルバーです。例えば、現在の項目を、タグで指定された期間のプレーヤー上の代替コンテンツで置き換えることができます。