---
description: メディアストリームは、メディアプレゼンテーションの説明 (MPD) ファイル内のタグの形式で追加のメタデータを伝達できます。このファイルは、広告の配置を示します。 カスタムタグ名を指定し、マニフェストファイルに特定のタグが表示されたら通知を受け取ることができます。
title: カスタムタグ
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '441'
ht-degree: 0%

---

# 概要 {#custom-tags-overview}

メディアストリームは、メディアプレゼンテーションの説明 (MPD) ファイル内のタグの形式で追加のメタデータを伝達できます。このファイルは、広告の配置を示します。 カスタムタグ名を指定し、マニフェストファイルに特定のタグが表示されたら通知を受け取ることができます。

## HLS コンテンツタグ {#section_E99299152089418FBA56F5F09FC547B0}

>[!IMPORTANT]
>
>Browser TVSDK は、HLS コンテンツの再生にFlashや MSE ではなくビデオタグを使用するので、Appleコンピューター上の Safari ではこの機能を使用できません。

ブラウザー TVSDK は、特定の#EXT広告タグに対する標準のサポートを提供します。 アプリケーションでは、カスタムタグを使用して広告ワークフローを強化したり、ブラックアウトシナリオをサポートしたりできます。 高度なワークフローをサポートするために、Browser TVSDK を使用すると、マニフェスト内の追加のタグを指定してサブスクライブできます。 これらのタグがマニフェストファイルに表示されたら、通知を受け取ることができます。

>[!TIP]
>
>VOD とライブ/リニアストリームの両方にカスタムタグをサブスクライブできます。

>[!NOTE]
>
>HLS が Safari でビデオタグを使用して再生され、Flashフォールバックを使用しない場合、この機能は Safari では使用できません。

## カスタム HLS タグの使用 {#section_AD032318AEF5418393D2B1DF36B0BABB}

カスタマイズされた VOD アセットの例を次に示します。

```
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-TARGETDURATION:7
 
#EXT-X-ASSET:AID=10
 
#EXTINF:9.9766,
seg1.ts
 
#EXTINF:9.9766,
seg2.ts
 
#EXTINF:9.9766,
seg3.ts
 
#EXT-X-AD:DURATION=10
#EXTINF:9.9766,
seg4.ts
 
#EXTINF:9.9766,
seg5.ts
 
#EXT-X-ENDLIST
```

アプリケーションでは、次のシナリオを設定できます。

* 通知： `#EXT-X-ASSET` タグ、または購読したその他のカスタムタグ名のセットがファイルに存在します。
* 広告を挿入する `#EXT-X-AD` タグ、またはその他のカスタムタグ名がストリーム内に見つかります。

次の任意のタグをカスタムタグとして購読できます。 `EXT-PROGRAM-DATE-TIME`, `EXT-X-START`, `EXT-X-AD`, `EXT-X-CUE`, `EXT-X-ENDLIST`. 次の通知が送信されました： `TimedMetadata` イベントが発生しました。

広告タグの例を以下に示します。 `EXT-X-CUE`：既に購読しています。 これらの広告タグは、デフォルトのオポチュニティジェネレーターでも使用されます。 デフォルトのオポチュニティジェネレーターが使用する広告タグを指定するには、 `adTags` プロパティ。

## DASH コンテンツタグ {#section_967A952319BE4048B4C6612FFF7ADA6E}

DASH には、イベントをシグナリングする 2 つの方法があります。

* MPD ファイル内。

  このファイルは、HLS コンテンツの M3U8 ファイルに似ていますが、MPD イベントは.mpd ファイルに存在します。
* 表現のインバンド

  Inband イベントは、セグメントの一部としてイベントメッセージを追加することで、表現と多重化されます。 表現とは、シーケンスで再生されるビデオおよびオーディオセグメントのリストです。 インバンドイベントデータは、これらのセグメントに埋め込まれます。

これらのイベントは、 `TimedMetadata` イベントが Browser TVSDK で解析されるとすぐにアプリケーションに送信されます。 イベントに通知を受けると、再度通知は送信されません。
