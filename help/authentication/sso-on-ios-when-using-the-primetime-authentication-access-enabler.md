---
title: Primetime 認証アクセスイネーブラを使用する場合のiOSでの SSO
description: Primetime 認証アクセスイネーブラを使用する場合のiOSでの SSO
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '1160'
ht-degree: 0%

---

# Primetime 認証アクセスイネーブラを使用する場合のiOSでの SSO {#sso-on-ios-when-using-the-primetime-authentication-access-enabler}

>[!NOTE]
>
>このページのコンテンツは、情報提供の目的でのみ提供されます。 この API を使用するには、Adobeの現在のライセンスが必要です。 不正な使用は許可されていません。

</br>

## 概要

Primetime 認証を利用したアプリ間でのシングルサインオン (SSO) は、基になるオペレーティングシステムに応じて、異なる方法で動作します。

このドキュメントのアドレス **iOSの SSO**( Adobe Primetime認証を使用する場合 ) **Access Enabler**.

**Access Enabler** **1.10** は、Adobe Primetime認証iOSネイティブ SDK の最新バージョンです。 Adobeでは、古いバージョンを使用するのではなく、このバージョンに移行することを強くお勧めします。 古いバージョンの Access Enabler を使用している場合は、最新バージョンをダウンロードできます。 [ここ](https://tve.zendesk.com/hc/en-us/articles/204963209-iOS-Native-AccessEnabler-Library).

iOSの SSO は、次の条件で決定されます。

- アプリで同じ **トークンストレージ** （Access Enabler で作成されたカスタムペーストボードの形式で）。
- アプリで同じ **デバイス ID** (Access Enabler は、OS のバージョンに応じて、MACアドレスまたは IDFV に基づいてデバイス ID を計算します )。

## 動作

SSO の動作は次のとおりです。

- **iOS 6 以降**:SSO は、同じチームまたは異なるチームが開発したアプリ間で自動的に機能します。 デバイス ID はMACアドレスに基づいて計算され（すべてのアプリで同じ値が生成されます）、ストレージ領域はすべてのアプリで共通です ( カスタムペーストボードはiOS 6 以前のアプリで共有可能です )。
   - **重要：** iOS SDK 1.9.4 リリースの [最小のiOSデプロイメントの対象をiOS 7 に増やしました。](https://tve.zendesk.com/hc/en-us/articles/204963209-iOS-Native-AccessEnabler-Library)
- **iOS 7 以降**:SSO は次の条件で機能します。

1. アプリは、同じApple配布プロファイル、または同じチームに属するプロファイルを使用して公開されます。 これは、アプリがiOS 7 以降のカスタムペーストボードを共有する唯一の方法です。 その他のシナリオでは、ペーストボードはアプリケーションごとにサンドボックス化されます。 送信者 [*https://developer.apple.com/library/IOs/releasenotes/General/RN-iOSSDK-7.0/index.html*](https://developer.apple.com/library/ios/releasenotes/General/RN-iOSSDK-7.0/index.html): \+\[UIPasteboard pastboardWithName:create:\] および+\[UIPasteboard pasteboardWithUniqueName\] は、同じアプリケーショングループ内のアプリのみがペーストボードにアクセスできるように、指定された名前を一意にします。 開発者が、既に存在する名前のペーストボードを作成しようとし、同じアプリスイートに含まれていない場合、独自のプライベートなペーストボードを取得します。 これは、システムが提供するペーストボード、一般、および検索には影響しません。

1. アプリには、同じ Bundle ID プレフィックスが付きます（最後を除くすべてのコンポーネント）。 同じ Bundle ID プレフィックスを共有するアプリケーションのみが同じ IDFV を計算します。 送信者 [*https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIDevice\_Class/index.html\#//apple\_ref/occ/instp/UIDevice/identifierForVendor*](https://developer.apple.com/library/ios/documentation/UIKit/Reference/UIDevice_Class/index.html#//apple_ref/occ/instp/UIDevice/identifierForVendor):IOS 7 では、最後のコンポーネントを除く、バンドルのすべてのコンポーネントが、ベンダー ID の生成に使用されます。 バンドル ID に 1 つのコンポーネントのみが含まれている場合は、バンドル ID 全体が使用されます。

次に、 **&#39;iOS 7 以降&#39;** シナリオと同じです。実際のユーザーにとって最も頻繁に発生するものなのでです。

SSO では、両方の条件（同じ開発チームからのプロファイルの共有と、共通のバンドル識別子のプレフィックスを持つ）が必須の条件です。

考えられる組み合わせと、その結果を次に示します。

- **同じチームのプロファイルと同じ Bundle ID プレフィックス**：アプリは同じペーストボードストレージを共有し、同じデバイス ID(IDFV) を持ちます。 ユーザーは（最初に使用したアプリで）1 回だけ認証が必要になり、認証状態は他のすべてのアプリで共有されます。 フローの例：

1. ユーザーがアプリ A を（バンドル ID と共に）開く *com.x.y.AppA*) およびが未認証
1. ユーザーがアプリ A で認証を実行する
1. ユーザーがアプリ B を開きます（バンドル ID を含む） *com.x.y.AppB*) とは、（手順 2 で取得した）アプリ A の権利付与データを共有することで、自動的に認証されます。
1. ユーザーがアプリ A を開き、まだ認証済みである（手順 2 から）。



- **同じチームからのプロファイルが、異なるバンドル ID プレフィックスになる**：アプリは同じペーストボードストレージを共有しますが、異なるデバイス ID(IDFV) を持ちます。 ユーザーは、各アプリごとに 1 回認証する必要があります。 フローの例：

1. ユーザーがアプリ A を（バンドル ID と共に）開く *com.x.y.AppA*) およびが未認証
1. ユーザーがアプリ A で認証を実行する
1. ユーザーがアプリ B を開きます（バンドル ID を含む） *com.z.AppB*) と Access Enabler は、最初のアプリケーションで取得したトークンを検出します（ストレージが共有されているため）が、異なるデバイス ID が原因で、SSO 経由で使用しようとはしません
1. ユーザーがアプリ B で認証を実行する
1. ユーザーがアプリ A を開き、まだ認証済みである（手順 2 から）。



- **異なるチームのプロファイル（バンドル ID はこのシナリオでは無関係です）**：アプリには異なるペーストボードストレージが含まれ、それらの間で SSO が無効になります。 ユーザーは各アプリごとに 1 回認証する必要があり、アプリを切り替えても認証セッションは持続します。 フローの例：


1. ユーザーがアプリ A を開き、未認証
1. ユーザーがアプリ A で認証を実行する
1. ユーザーがアプリ B を開き、未認証
1. ユーザーがアプリ B で認証を実行する
1. ユーザーがアプリ A を開き、（手順 2 で）認証される
1. ユーザーがアプリ B を開き、（手順 4 で）認証される

**注意：** 上記の SSO 条件は、 **Apple App Store**. アプリがシミュレーター（アプリの署名が適用されない）にデプロイされている場合、Xcode と共にインストールされるか、Ad Hoc プロファイルを介して配布される場合、異なる結果が得られる可能性があります。

**重要：** 注意 (**AccessEnabler v1.8 について**)：前述の 2 つ目のシナリオ（同じチームのプロファイルが、異なるバンドル ID プレフィックスからのプロファイル）は、 **AccessEnabler v1.8** 同じチーム（メディア会社）が開発した複数のアプリケーションに対して実行できます。 ユーザーは、同じメディア会社からのアプリ間の移行時に自動的にログアウトされるので、アプリケーション開発者は、バンドル ID と配布プロファイルを決定する際に注意する必要があります。 この場合の正確なシナリオを次に示します。

アプリは同じペーストボードストレージを共有しますが、異なるデバイス ID(IDFV) を持ちます。 ユーザーは、各アプリケーションにつき 1 回認証する必要があります。 **ただし、アプリ間を切り替えると認証セッションは消去されます**. フローの例：

1. ユーザーがアプリ A を（バンドル ID と共に）開く *com.x.y.AppA*) およびが未認証
1. ユーザーがアプリ A で認証を実行する
1. ユーザーがアプリ B を開きます（バンドル ID を含む） *com.z.AppB*) と、アプリ A で作成された使用権限データは、Access Enabler( 現在計算されているアプリ B のデバイス ID と、使用権限トークンに保存されているデバイス ID（アプリ A で作成）との間の干渉を検出するセキュリティメカニズム ) によって自動的に消去されます。
1. ユーザーがアプリ B で認証を実行する
1. ユーザーがアプリ A を開き、アプリ B で作成された使用権限データは、Access Enabler（現在計算されているアプリ A のデバイス ID と、使用権限トークンに保存されているアプリ B で作成されたデバイス ID との間の干渉を検出するセキュリティメカニズム）によって自動的に消去されます。
