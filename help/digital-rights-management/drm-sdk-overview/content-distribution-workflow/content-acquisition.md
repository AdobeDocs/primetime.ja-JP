---
description: '消費者がWebサイトまたはCDNから保護されたコンテンツファイルを取得した場合、ビデオを再生する前に、ビデオを復号化するキーを含むライセンスも取得する必要があります。 次の手順は、Flash PlayerまたはAdobe AIRを実行しているコンピューターが保護されたコンテンツにアクセスする方法に関する一般的なワークフローを示します '
seo-description: '消費者がWebサイトまたはCDNから保護されたコンテンツファイルを取得した場合、ビデオを再生する前に、ビデオを復号化するキーを含むライセンスも取得する必要があります。 次の手順は、Flash PlayerまたはAdobe AIRを実行しているコンピューターが保護されたコンテンツにアクセスする方法に関する一般的なワークフローを示します '
seo-title: コンテンツの取得
title: コンテンツの取得
uuid: 80253746-bc31-43f0-b28b-7a1aa7fe34a7
translation-type: tm+mt
source-git-commit: 7e8df034035fe465fbe403949ef828e7811ced2e

---


# コンテンツの取得{#content-acquisition}

消費者がWebサイトまたはCDNから保護されたコンテンツファイルを取得した場合、ビデオを再生する前に、ビデオを復号化するキーを含むライセンスも取得する必要があります。 次の手順は、Flash PlayerまたはAdobe AIRを実行しているコンピューターが保護されたコンテンツにアクセスする方法に関する一般的なワークフローを示します。

1. 消費者は小売業者のWebサイトを訪問し、視聴するビデオを選択します。 ユーザーは、保護されたビデオをFlash PlayerまたはAdobe AIRアプリケーションを使用して、自分のコンピューターにダウンロードまたはストリーミング再生しようとします。

   コンシューマーがこの特定のコンピューターを使用して保護されたコンテンツに初めてアクセスしようとした場合は、手順2の説明に従って、まずFlash PlayerまたはAdobe AIRランタイムを個別化する必要があります。 ランタイムクライアントが既に個別化されている場合は、手順3の説明に従ってライセンスの取得プロセスが実行されます。

1. Flash PlayerまたはAdobe AIRランタイムクライアントは、アドビがホストするサーバーから一意のデジタ *ル証明書*（マシン証明書と呼ばれる）を取得します。

   一意の証明書を割り当てるこのプロセスは、個別化と呼 *ばれます*。 個別化は、コンピューターと、コンテンツの再生に使用されるFlash PlayerまたはAdobe AIRランタイムの両方を一意に識別します。

   個別化プロセスを使用すると、ダウンロードしたライセンスを、クライアントがインストールされている特定のコンピューターにバインドできます。 すべてのコンピューターには、一意のコンピューター資格情報（コンピューターの秘密鍵とコンピューターの証明書）が与えられます。 特定のクライアントが侵害されると、そのクライアントは失効し、新しいコンテンツのライセンスの取得を禁止される場合があります。

1. クライアントは、保護されたコンテンツのダウンロードまたはコンシューマーのコンピューターへのストリーミングを開始する際に解析し、ファイルに埋め込まれたPrimetime DRMメタデータから小売業者のライセンスサーバーのURLを抽出します。

   Primetime DRMメタデータは、通常、付属のマニフェストファイルやバイナリBLOBに埋め込まれるなど、コンテンツとは別に存在しますが、コンテンツファイル内に埋め込むこともできます。 クライアントは、指定されたURLでLicense Serverに接続し、ライセンスを取得します（手順4で説明します）。
1. クライアントは、小売業者のライセンスサーバーからライセンスを取得します。

   ライセンスの取得時に、クライアントは要求されたコンテンツ( *Primetime DRMメタデータ*)とコンピューター証明書（消費者のコンピューターを識別する）を識別する情報を小売業者のライセンスサーバーに送信します。 サーバーに送信されるライセンス要求は、Transport公開鍵を使用して暗号化されます。この公開鍵は、Primetime DRMメタデータにも含まれます。

   ライセンスサーバ — 小売業者の請求および認証インフラストラクチャに統合できる ビジネスルールのチェックを実行して、要求されたコンテンツを表示する権限がユーザーにあることを確認できます。 ビジネスルールで許可されている場合、License Serverはコンテンツ暗号化キーを含むライセンスを発行し、コンテンツとそのユーザーのアカウントに関連付けられた使用ルールを復号化します。 ライセンス要求を処理するために、License Serverはトランスポート秘密鍵を使用して要求を復号化します。 メタデータ内のCEKは、License Serverの秘密鍵を使用して復号化され、再暗号化されて、要求を行うデバイスにライセンスが連結されます。 ライセンスは、ライセンスサーバーの秘密鍵を使用して署名されます。 ライセンスの応答はトランスポート秘密鍵を使用して署名され、暗号化されてからクライアントに返されます。

   ライセンスで許可されている場合、クライアントはライセンスを保存して、ライセン *スへのオフライン* ・アクセスを有効にします。 ライセンスキャッシュを使用すると、ユーザーはコンテンツを表示するたびにライセンスを再取得することなく、保護されたコンテンツを表示できます。

1. Flash PlayerまたはAdobe AIRランタイムクライアントがライセンスを持つと、クライアントはライセンスからCEKを抽出し、ユーザーはアクセス権を持つコンテンツを表示できます。

   <!--<a id="fig_s43_gc2_44"></a>-->

   ![](assets/FMRMS_fig01_web.png)

   前の例は、可能なワークフローを1つ示しています。 また、ライセンスの取得が非常に後で行われるコンテンツのプロアクティブなダウンロードでワークフローを使用することもできます。 もう1つの方法は、コンテンツにアクセスする前にライセンスの取得が行われる事前注文ワークフローを実装することです。

