---
title: HLS プレーヤーからフェイルオーバー/バックアップストリームへの切り替えを容易にします。
description: Apple HLS スタックは、プライマリセットのストリームを取得できない場合に、フェイルオーバー/バックアップストリームへの切り替えをサポートします。 Apple HLS デバイスでは、フェイルオーバーを容易にするために、マニフェストサーバーにシグナルを送信して、マスタープレイリストで識別されたプライマリストリームとフェイルオーバーストリームを（独自の UUID と共に）結合解除されたセットとして扱うことができます。
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '345'
ht-degree: 0%

---

# HLS プレーヤーからフェイルオーバー/バックアップストリームへの切り替えを容易にします。 {#facilitating-hls-player-switching-to-failover-backup-streams}

Apple HLS スタックは、プライマリセットのストリームを取得できない場合に、フェイルオーバー/バックアップストリームへの切り替えをサポートします。 Apple HLS デバイスでは、フェイルオーバーを容易にするために、マニフェストサーバーにシグナルを送信して、マスタープレイリストで識別されたプライマリストリームとフェイルオーバーストリームを（独自の UUID と共に）結合解除されたセットとして扱うことができます。

Apple HLS デバイス上のフェイルオーバーまたはバックアップストリームへの切り替えを容易にするには、 `ptfailover` パラメーターをBootstrapURL に追加します。 このパラメーターを指定した場合、マニフェストサーバーは、各フェイルオーバーセットに対して個別の再生セッション（関連付けられた広告を決定する）を作成します。

## 詳細

SSAI が次を含む場合に HLS のフェイルオーバー/バックアップへの切り替えを処理する方法 `ptfailover=true` Bootstrapリクエスト：

* マスター再生リストにプライマリとバックアップのセットが含まれている場合：

   * マニフェストサーバは、 `BANDWIDTH` 属性および AV ストリーム URL の解析順序。 別々の内部再生セッション（別々の UUID で識別）を作成し、異なる UUID を持つマニフェストサーバーを指すストリーム URL を作成し、異なる再生セッションを識別します。
   * マニフェストサーバは、一致する `RESOLUTION` 属性と、I-Frame ストリーム URL の解析順序を示します。 SSAI は、SSAI を指す I-Frame ストリーム URL に関連する AV ストリームを識別する UUID を使用します。
   * この機能では、マニフェストサーバーは `EXT-X-MEDIA` マスター再生リスト内の URI 属性を持たないグループ。
   * マニフェストサーバーは、 `X-Object-Too-Old: true` ヘッダーを貼り付け、応答をプレーヤーに送信する際に、ステータスコードとヘッダーを保持します。

* プリロール広告は、プライマリセットにのみ追加されます。プレーヤーがフェイルオーバーストリームに切り替えたときに、誤りや重複したプリロール広告を避けるために、フェイルオーバーセットでは完全に無効になります。
