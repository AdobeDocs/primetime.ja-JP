---
seo-title: ライセンス取得プロセスの概要
title: ライセンス取得プロセスの概要
uuid: c2eedd0a-3e3a-4c2f-a781-855f0ba65b15
translation-type: tm+mt
source-git-commit: 7e8df034035fe465fbe403949ef828e7811ced2e

---


# ライセンス取得プロセスの概要{#license-acquisition-process-overview}

Primetime DRMの保護下でアプリケーションがコンテンツを再生できるようにする方法については、ActionScript 3(AS3)コードサンプルを使用して、以降の節で説明します。 モバイルプラットフォームのネイティブアプリに関する、このワークフローからの離脱点が適宜示されます。 Primetime DRMワークフローはすべてのプラットフォームで非常に似ているので、AS3コードを理解することで、他のプラットフォームの推定は非常に簡単になります。

**ライセンス取得プロセス：**

1. 保護されたコンテンツのDRMメタデータを取得します。
1. ライセンスがローカルで使用可能かどうかを確認します。

   * ライセンスがローカルで使用可能な場合は、ライセンスを読み込んで手順6に進みます。
   * ライセンスがローカルで使用できない場合は、手順3に進みます。

1. 認証が必要かどうかを確認します。

   * 認証が必要な場合は、ユーザーから認証資格情報を取得し、ライセンスサーバーに渡します。
   * 認証が必要ない場合は、手順6に進みます。

1. デバイスドメインの登録が必要な場合は、デバイスドメインに参加します。
1. 認証が必要で、これで完了した場合は、ライセンスサーバーからライセンスをダウンロードします。
1. コンテンツを再生します。

エラーが発生せず、ユーザーがコンテンツの表示を承認された場合、Primetimeはオブジェクトをディスパッチし、ア `DRMStatusEvent` プリケーションは再生を開始します。 このオ `DRMStatusEvent` ブジェクトは、ユーザーのポリシーと権限を識別する、関連するライセンス情報を保持します。 例えば、コンテ `DRMStatusEvent` ンツをオフラインで使用できるか、ライセンスの期限が切れた場合などに関する情報を保持できます。

アプリケーションは、ライセンス情報を使用して、ユーザーにポリシーのステータスを通知できます。 例えば、ユーザーがコンテンツを表示するのに残りの日数をステータスバーに表示できます。 ユーザーがオフラインアクセスを許可されると、ライセンスがキャッシュされ、暗号化されたコンテンツがユーザーのコンピューターにダウンロードされます。 コンテンツは、ライセンスキャッシュ期間で定義された期間、アクセス可能になります。 イベント内のdetailプロパティには、が含まれま `DRM.voucherObtained`す。 コンテンツをオフラインで使用できるように、コンテンツをローカルに保存する場所はアプリケーションが決定します。 クラスを使用してライセンスを事前に読み込むことも `DRMManager` できます。
