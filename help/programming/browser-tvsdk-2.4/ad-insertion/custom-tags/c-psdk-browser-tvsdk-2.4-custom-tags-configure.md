---
description: メディアストリームは、メディアプレゼンテーション説明(MPD)ファイル内のタグの形式で追加のメタデータを伝達できます。このファイルは広告の配置を示します。 カスタムタグ名を指定し、特定のタグがマニフェストファイルに出現したら通知を受けることができます。
seo-description: メディアストリームは、メディアプレゼンテーション説明(MPD)ファイル内のタグの形式で追加のメタデータを伝達できます。このファイルは広告の配置を示します。 カスタムタグ名を指定し、特定のタグがマニフェストファイルに出現したら通知を受けることができます。
seo-title: カスタムタグ
title: カスタムタグ
uuid: d1e34288-545b-440f-a262-2fb853f0e3c4
translation-type: tm+mt
source-git-commit: 1b9792a10ad606b99b6639799ac2aacb707b2af5
workflow-type: tm+mt
source-wordcount: '486'
ht-degree: 0%

---


# 概要{#custom-tags-overview}

メディアストリームは、メディアプレゼンテーション説明(MPD)ファイル内のタグの形式で追加のメタデータを伝達できます。このファイルは広告の配置を示します。 カスタムタグ名を指定し、特定のタグがマニフェストファイルに出現したら通知を受けることができます。

## HLSコンテンツタグ{#section_E99299152089418FBA56F5F09FC547B0}

>[!IMPORTANT]
>
>Browser TVSDKは、FlashやMSEではなくビデオタグを使用してHLSコンテンツを再生するので、Appleコンピューター上のSafariではこの機能を利用できません。

ブラウザーTVSDKは、特定の#EXT広告タグを標準でサポートしています。 アプリケーションは、広告ワークフローを強化したり、ブラックアウトシナリオをサポートするためにカスタムタグを使用できます。 高度なワークフローをサポートするために、Browser TVSDKでは、マニフェスト内の追加のタグを指定し、サブスクライブできます。 これらのタグがマニフェストファイルに出現したら、通知を受け取ることができます。

>[!TIP]
>
>VODストリームとライブ/リニアストリームの両方に対して、カスタムタグをサブスクライブできます。

>[!NOTE]
>
>HLSを再生する際に、Safariでビデオタグを使用し、Flashのフォールバックを使用しない場合、この機能はSafariでは使用できません。

## カスタムHLSタグ{#section_AD032318AEF5418393D2B1DF36B0BABB}の使用

カスタマイズされたVODアセットの例を次に示します。

```
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-TARGETDURATION:7
 
#EXT-X-ASSET:AID=10
 
#EXTINF:9.9766,
seg1.ts
 
#EXTINF:9.9766,
seg2.ts
 
#EXTINF:9.9766,
seg3.ts
 
#EXT-X-AD:DURATION=10
#EXTINF:9.9766,
seg4.ts
 
#EXTINF:9.9766,
seg5.ts
 
#EXT-X-ENDLIST
```

アプリケーションでは、次のシナリオを設定できます。

* `#EXT-X-ASSET`タグまたはサブスクライブした他のカスタムタグ名のセットがファイルに存在する場合の通知。
* `#EXT-X-AD`タグまたは他のカスタムタグ名がストリーム内で見つかった場合に広告を挿入します。

次のタグは、カスタムタグとしてサブスクライブできます。`EXT-PROGRAM-DATE-TIME`、`EXT-X-START`、`EXT-X-AD`、`EXT-X-CUE`、`EXT-X-ENDLIST`。 マニフェストファイルの解析中に`TimedMetadata`イベントが通知されます。

`EXT-X-CUE`など、既に登録済みの広告タグがいくつかあります。 これらの広告タグは、デフォルトのオポチュニティジェネレーターでも使用されます。 デフォルトのオポチュニティジェネレーターが使用する広告タグは、`adTags`プロパティを設定することで指定できます。

## DASHコンテンツタグ{#section_967A952319BE4048B4C6612FFF7ADA6E}

DASHには、2つのシグナリングイベントがあります。

* MPDファイル内。

   このファイルは、HLSコンテンツ内のM3U8ファイルに似ており、MPDイベントは.mpdファイルに存在します。
* 表現のインバンド

   インバンドイベントは、セグメントの一部としてイベントメッセージを追加することにより、表現と多重化される。 表現とは、ビデオセグメントとオーディオセグメントが順に再生されるリストです。 これらのセグメントには、インバンドイベントデータが埋め込まれます。

これらのイベントは、Browser TVSDKが解析した直後に、アプリケーションに対する`TimedMetadata`イベントとして通知されます。 イベントに通知を受けた後は、再度通知されません。
