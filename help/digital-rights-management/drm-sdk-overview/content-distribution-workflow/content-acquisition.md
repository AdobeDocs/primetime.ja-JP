---
description: '消費者がWebサイトやCDNから保護されたコンテンツファイルを取得した場合、ビデオを再生する前に、ビデオを復号化するためのキーを含むライセンスも取得する必要があります。 次の手順では、Flash PlayerまたはAdobe AIRを実行しているコンピューターが保護されたコンテンツにアクセスする方法に関する一般的なワークフローを示します '
title: コンテンツの取得
translation-type: tm+mt
source-git-commit: 89bdda1d4bd5c126f19ba75a819942df901183d1
workflow-type: tm+mt
source-wordcount: '695'
ht-degree: 0%

---


# コンテンツの取得{#content-acquisition}

消費者がWebサイトやCDNから保護されたコンテンツファイルを取得した場合、ビデオを再生する前に、ビデオを復号化するためのキーを含むライセンスも取得する必要があります。 次の手順では、Flash PlayerまたはAdobe AIRを実行しているコンピューターが保護されたコンテンツにアクセスする方法に関する一般的なワークフローを示します。

1. 消費者が小売業者のWebサイトを訪問し、視聴するビデオを選択します。 コンシューマは、Flash PlayerまたはAdobe AIRアプリケーションを使用して、保護されたビデオを自分のコンピューターにダウンロードまたはストリーミングしようとします。

   この特定のコンピューターを使用して保護されたコンテンツにコンシューマーが初めてアクセスしようとした場合は、手順2の説明に従って、Flash PlayerまたはAdobe AIRランタイムを個別化する必要があります。 ランタイムクライアントが既に個別化されている場合は、手順3で説明するように、ライセンスの取得プロセスが実行されます。

1. Flash PlayerまたはAdobe AIRランタイムクライアントは、Adobeがホストするサーバーから一意のデジタル証明書（*マシン証明書*&#x200B;と呼ばれる）を取得します。

   一意の証明書を割り当てるこのプロセスは、*個別化*&#x200B;と呼ばれます。 個別化は、コンピューターと、コンテンツの再生に使用されるFlash PlayerまたはAdobe AIRランタイムの両方を一意に識別します。

   個別化プロセスにより、ダウンロードしたライセンスを、クライアントがインストールされている特定のコンピューターにバインドできます。 すべてのコンピューターに、一意のコンピューター資格情報（マシンの秘密鍵とマシンの証明書）が与えられます。 特定のクライアントが侵害されると、そのクライアントは失効し、新しいコンテンツのライセンスの取得を禁止される場合があります。

1. クライアントは、保護されたコンテンツのダウンロードまたはコンシューマーのコンピューターへのストリーミングを開始する際に解析し、ファイルに埋め込まれたPrimetime DRMメタデータから小売業者のLicense ServerのURLを抽出します。

   Primetime DRMメタデータは、通常、コンテンツとは別に存在します。例えば、付属のマニフェストファイルやバイナリBLOBに埋め込まれるなどですが、コンテンツファイル内に埋め込むこともできます。 クライアントは、指定されたURLでLicense Serverにアクセスし、ライセンスを取得します（手順4で説明）。
1. クライアントは、小売業者のライセンスサーバーからライセンスを取得します。

   ライセンスの取得中に、クライアントは要求されたコンテンツ（*Primetime DRMメタデータ*）とマシン証明書（消費者のコンピューターを識別する）を識別する情報を小売業者のライセンスサーバーに送信します。 サーバーに送信されるライセンス要求は、Transport公開鍵を使用して暗号化されます。この公開鍵は、Primetime DRMメタデータにも含まれます。

   ライセンスサーバは、小売業者の請求および認証インフラストラクチャに統合される場合があり、ビジネスルールチェックを実行して、要求されたコンテンツを表示する権限がユーザーにあることを確認できます。 ビジネスルールで許可されている場合、License Serverはコンテンツ暗号化キーを含むライセンスを発行して、コンテンツとそのユーザーのアカウントに関連付けられている使用ルールを復号化します。 ライセンス要求を処理するために、License Serverはトランスポート秘密鍵を使用して要求を復号化します。 メタデータ内のCEKは、License Server秘密鍵を使用して復号化され、再暗号化されて、要求を行うデバイスにライセンスが連結されます。 ライセンスは、License Serverの秘密鍵を使用して署名されます。 ライセンス応答はトランスポート秘密鍵を使用して署名され、暗号化されてからクライアントに返されます。

   ライセンスで許可されている場合、クライアントはライセンスを保存して、ライセンスへの&#x200B;*オフラインアクセス*&#x200B;を有効にします。 ライセンスのキャッシュを使用すると、表示コンテンツを表示するたびにライセンスを取得することなく、ユーザーは保護されたコンテンツをできます。

1. Flash PlayerまたはAdobe AIRランタイムクライアントがライセンスを持つと、クライアントはライセンスからCEKを抽出し、ユーザーはアクセスを許可されたコンテンツを表示できます。

   <!--<a id="fig_s43_gc2_44"></a>-->

   ![](assets/FMRMS_fig01_web.png)

   前の例は、1つのワークフローのみを示しています。 または、ライセンスの取得が非常に後で行われるコンテンツのプロアクティブなダウンロードで、ワークフローを使用することもできます。 別の方法として、コンテンツにアクセスする前にライセンスの取得が発生する、注文前のワークフローを実装する方法があります。

