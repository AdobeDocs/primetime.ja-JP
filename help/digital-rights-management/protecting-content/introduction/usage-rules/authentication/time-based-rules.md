---
seo-title: 時間に基づくルール
title: 時間に基づくルール
uuid: 19a6ee7e-9580-48bb-a3a6-ff2cedcc796a
translation-type: tm+mt
source-git-commit: c78d3c87848943a0be3433b2b6a543822a7e1c15

---


# 時間に基づくルール {#time-based-rules}

Primetime DRMは、時間ベースのライセンス制限の「ソフト強制」を使用します。 ビデオの再生中に有効期限が切れた場合、Primetime DRMのデフォルトの動作では、ビデオストリームが次に（およびを呼び出して）再作成されるまで再生が制限され `Netstream.stop()` ませ `Netstream.play()`ん。

デフォルトの動作はソフト強制ですが、次のいずれかのタスクを実行することで、ハード強制を有効にすることもできます。

* ビデオプレーヤーで定期的にライセンスをポーリングし、時間制限が満了していないことを確認します。 これは、ローカルに保存されたライセ `DRMManager.loadVoucher(LOCAL_ONLY).` ンスが無効になったことを示すエラーコードを呼び出すことで達成できます。
* ユーザーがクリックするた **[!UICONTROL Pause]**&#x200B;びに、現在のビデオのタイムスタンプを記録し、を呼び出すことができま `Netstream.stop()`す。 再生ボタンをクリックすると、記録された場所を探し、を呼び出すことができま `Netstream.play()`す。

## 開始日 {#start-date}

開始日は、ライセンスが有効になる日を指定します。

使用例：絶対日付を使用して、アセットの公開日の前にコンテンツライセンスを発行したり、「禁輸措置」期間を実施したりします。

## 終了日 {#end-date}

終了日は、ライセンスの有効期限が切れる日を指定します。

使用例：配布権限の終了を反映するには、絶対的な有効期限を使用します。

## 相対終了日 {#relative-end-date}

相対的な終了日は、ライセンスの有効期限を指定します。ライセンスの発行日を基準にした日付ではなく、パッケージ化の日付を基準とした日付で表されます。

使用例：自動パッケージ化プロセスでは、一連のビデオに対して、単一のPrimetime DRMポリシーと共にこのオプションを使用し、パッケージ化の日付を基準に有効期限を30日に設定します。

## ライセンスのキャッシュ期間{#license-caching-duration}

ライセンスのキャッシュ期間は、ライセンスサーバーからの再取得を必要とせずに、クライアントのローカルのライセンスストア内のディスク上にライセンスをキャッシュできる期間を指定します。 また、ライセンスをキャッシュできなくなる絶対日時を指定することもできます。

キャッシュの有効期限が過ぎると、ライセンスは無効になり、クライアントはライセンスサーバーに新しいライセンスを要求する必要があります。

使用例：ライセンスのキャッシュ期間を使用して、特定のライセンスに対して有効な一定時間（例：レンタルの使用例）を指定します。 30日間のレンタル（ライセンスキャッシュを含む）を指定して、コンテンツを消費する合計ライセンス期間を示すことができます。

## 再生ウィンドウ {#playback-window}

再生ウィンドウでは、保護されたコンテンツの再生に初めて使用された後にライセンスが有効になる時間を指定します。

使用例：一部のビジネスモデルでは、レンタル期間を30日に設定できますが、再生が開始されたら、再生は48時間で完了する必要があります。 この場合、ライセンスの48時間の長さは再生ウィンドウです。

**バージョン5.3以降** — 再生ウィンドウでは、ハードストップを有効または無効にするオプションもサポートされています。このオプションは、再生の復号化コンテキストを再生ウィンドウの有効期限（有効）で停止するか、有効期限（無効）で継続するかを示します。

>[!NOTE]
>
>再生ウィンドウと組み合わせて使用した場合、ハードストップオプションは正しく機能しません（再生ウィンドウは使用されません）。 安全な停止なしで再生ウィンドウでコンテンツを再生する場合は、再生ウィンドウの制限が適用されます。