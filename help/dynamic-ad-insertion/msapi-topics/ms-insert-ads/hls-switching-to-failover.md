---
description: AppleのHLSスタックは、プライマリセットのストリームを取得できない場合、フェイルオーバー/バックアップストリームへの切り替えをサポートします。 Apple HLSデバイスの場合、フェイルオーバーを容易にするために、マニフェストサーバーにシグナルを送信し、マスタープレイリストで識別されるプライマリストリームとフェイルオーバーストリームを、独自のUUIDを持つ分離したセットとして処理できます。
seo-description: AppleのHLSスタックは、プライマリセットのストリームを取得できない場合、フェイルオーバー/バックアップストリームへの切り替えをサポートします。 Apple HLSデバイスの場合、フェイルオーバーを容易にするために、マニフェストサーバーにシグナルを送信し、マスタープレイリストで識別されるプライマリストリームとフェイルオーバーストリームを、独自のUUIDを持つ分離したセットとして処理できます。
seo-title: HLSプレーヤーからフェイルオーバー/バックアップストリームへの切り替えの促進
title: HLSプレーヤーからフェイルオーバー/バックアップストリームへの切り替えの促進
uuid: 2fea8a51-e4cb-4fc9-82d5-6305a1d96603
translation-type: tm+mt
source-git-commit: 6863b63c7fa0068c3c5060fb946515c6cc5e3bff

---


# HLSプレーヤーからフェイルオーバー/バックアップストリームへの切り替えの促進 {#facilitating-hls-player-switching-to-failover-backup-streams}

AppleのHLSスタックは、プライマリセットのストリームを取得できない場合、フェイルオーバー/バックアップストリームへの切り替えをサポートします。 Apple HLSデバイスの場合、フェイルオーバーを容易にするために、マニフェストサーバーにシグナルを送信し、マスタープレイリストで識別されるプライマリストリームとフェイルオーバーストリームを、独自のUUIDを持つ分離したセットとして処理できます。

Apple HLSデバイス上のフェイルオーバーストリームまたはバックアップストリームへの切り替えを容易にするために、ブートストラップURL `ptfailover` にパラメーターを指定できます。 このパラメーターを指定すると、マニフェストサーバーは、各フェイルオーバーセットに対して個別の再生セッション（広告の関連付けを決定する）を作成します。

## 詳細

ブートストラップ要求に含める場合、SSAIがHLS切り替えを処理する方法： `ptfailover=true`

* マスタープレイリストにプライマリセットとバックアップセットが含まれる場合：

   * マニフェストサーバは、AVストリームURLの属性と解析順序を用いて、異な `BANDWIDTH` るフェイルオーバーセットのAVストリームURLを識別する。 別々の内部再生セッション（個別のUUIDで識別）を作成し、異なる再生セッションを識別する異なるUUIDを持つマニフェストサーバーを指すストリームURLを作成します。
   * マニフェストサーバーは、一致する属性とI-FrameストリームURLの解析順序を使用して、異な `RESOLUTION` るフェイルオーバーセットのI-FrameストリームURLを識別します。 SSAIは、SSAIを指すI-FrameストリームURLに関連付けられたAVストリームを識別するUUIDを使用します。
   * この機能の場合、マニフェストサーバーは、マスタープレイ `EXT-X-MEDIA` リストのURI属性を持たないグループのみをサポートします。
   * マニフェストサーバは、ヘッダ付きCDNから404エラー応答を検出し、 `X-Object-Too-Old: true` その応答をプレーヤに送信する際に、ステータスコードとヘッダを保持する。

* プリロール広告はプライマリセットにのみ追加されます。プレイヤーがフェイルオーバーストリームに切り替えたときに、誤ったプリロール広告や重複したプリロール広告が発生しないように、フェイルオーバーセットでは完全に無効になります。

