---
description: オポチュニティディテクターは、ストリーム内のカスタムタグを検出し、配置オポチュニティを識別するTVSDKコンポーネントです。 これらのオポチュニティはコンテンツリゾルバーに送信され、コンテンツリゾルバーは、配置オポチュニティのプロパティとメタデータに基づいてコンテンツ/広告挿入ワークフローをカスタマイズします。
title: オポチュニティジェネレーターとコンテンツリゾルバー
translation-type: tm+mt
source-git-commit: 89bdda1d4bd5c126f19ba75a819942df901183d1
workflow-type: tm+mt
source-wordcount: '487'
ht-degree: 0%

---


# オポチュニティジェネレーターとコンテンツリゾルバー{#opportunity-generators-and-content-resolvers}

オポチュニティディテクターは、ストリーム内のカスタムタグを検出し、配置オポチュニティを識別するTVSDKコンポーネントです。 これらのオポチュニティはコンテンツリゾルバーに送信され、コンテンツリゾルバーは、配置オポチュニティのプロパティとメタデータに基づいてコンテンツ/広告挿入ワークフローをカスタマイズします。

TVSDKには、次のデフォルトのオポチュニティディテクターが含まれています。

* `SpliceOutPlacementOpportunityDetector`は、デフォルトの広告キューを認識します。

TVSDKには、プレイヤーアイテムのメタデータキーに基づいて挿入されるコンテンツを提供する、次のデフォルトのコンテンツリゾルバーも含まれています。

* `AuditudeResolver` の `AUDITUDE_METADATA_KEY`代わりに使用します。

* `MetadataResolver` for  `JSON_METADATA_KEY`

* `CustomAdMarkersContentResolver` for  `TIME_RANGES_METADATA_KEY`

デフォルトのオポチュニティディテクターとコンテンツリゾルバーを上書きして、次の方法で広告ワークフローをカスタマイズできます。

* カスタムタグ追加検出のサポート
* 広告挿入用のカスタムタグを認識する
* カスタマイズした広告プロバイダーの作成
* コンテンツの墨消し

TVSDKは、広告をタイムラインに配置するデフォルトのオポチュニティジェネレーターとコンテンツリゾルバーを提供します。これらのジェネレーターとリゾルバーは、マニフェスト内の非標準タグに基づいています。 アプリケーションでは、ブラックアウト期間のインジケーターなど、マニフェストで識別されるオポチュニティに基づいてタイムラインを変更する必要がある場合があります。

*`opportunity`*&#x200B;は、通常、広告配置オポチュニティを示す、タイムライン上の目標地点を表します。 また、このオポチュニティは、ブラックアウト期間など、タイムラインに影響を与える可能性のあるカスタム操作を示すこともできます。 *`opportunity generator`*&#x200B;は、タイムライン内の特定のオポチュニティ（タグ）を識別し、これらのオポチュニティがタグ付けされたことをTVSDKに通知します。 オポチュニティは、非標準（非HLS）タグを含めることで、のタイムラインで識別されます。

アプリケーションにオポチュニティ（タグ）が通知されたら、一連の広告の挿入、代替ストリーム（ブラックアウト）への切り替え、タイムラインコンテンツの編集などによって、タイムラインが変更される場合があります。 デフォルトでは、TVSDKは適切な&#x200B;*`content resolver`*&#x200B;を呼び出して、必要なタイムラインの変更またはアクションを実装します。 アプリケーションは、デフォルトのTVSDK広告コンテンツリゾルバーを使用するか、独自のコンテンツリゾルバーを登録できます。

また、`MediaPlayerItemConfig.setAdTags`を使用して広告マーカータグ/キューを追加し、TVSDKが`MediaPlayerItemConfig.subscribedTags`を認識して使用できるようにし、広告ワークフロー情報を持つ可能性のある追加タグについてアプリケーションに通知することもできます。

カスタムリゾルバーの使用方法の1つとして、ブラックアウト期間に対する使用が考えられます。 これらの期間を処理するために、アプリケーションでブラックアウトタグを処理するブラックアウトオポチュニティディテクターを実装して登録できます。 TVSDKは、このタグに遭遇すると、登録済みのすべてのコンテンツリゾルバーをポーリングして、指定したタグを処理する最初のリゾルバーを見つけます。 この例では、これはブラックアウトコンテンツリゾルバーです。例えば、タグで指定された継続時間に対して、現在のアイテムをプレイヤー上の代替コンテンツで置き換えることができます。
