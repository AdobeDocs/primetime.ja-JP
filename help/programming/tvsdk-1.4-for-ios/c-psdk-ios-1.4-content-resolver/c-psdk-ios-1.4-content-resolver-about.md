---
description: TVSDK は、広告をタイムラインに配置するデフォルトのオポチュニティジェネレーターとコンテンツリゾルバーを提供し、これらのジェネレーターとリゾルバーは、マニフェスト内の非標準のタグに基づいています。 アプリケーションでは、ブラックアウト期間の指標など、マニフェストで識別されるオポチュニティに基づいてタイムラインを変更する必要が生じる場合があります。
title: オポチュニティジェネレーターとコンテンツリゾルバー
source-git-commit: 02ebc3548a254b2a6554f1ab34afbb3ea5f09bb8
workflow-type: tm+mt
source-wordcount: '473'
ht-degree: 0%

---

# オポチュニティジェネレーターとコンテンツリゾルバー{#opportunity-generators-and-content-resolvers}

オポチュニティディテクターは、ストリーム内のカスタムタグを検出し、配置オポチュニティを識別する TVSDK コンポーネントです。 これらのオポチュニティは、コンテンツリゾルバーに送信され、配置オポチュニティのプロパティとメタデータに基づいてコンテンツ/広告挿入ワークフローをカスタマイズします。

TVSDK には、次のデフォルトのオポチュニティディテクターが含まれています。

* `PTOpportunityResolver`は、デフォルトの広告キューを認識します。

TVSDK には、プレーヤーアイテムのメタデータキーに基づいて挿入されるコンテンツを提供する、次のデフォルトのコンテンツリゾルバーも含まれています。

* `PTContentResolver`

デフォルトのオポチュニティディテクターとコンテンツリゾルバーを上書きして、次の方法で広告ワークフローをカスタマイズできます。

* カスタムタグ検出のサポートを追加
* 広告挿入用のカスタムタグを認識する
* カスタマイズされた広告プロバイダーの作成
* コンテンツのブラックアウト

TVSDK は、広告をタイムラインに配置するデフォルトのオポチュニティジェネレーターとコンテンツリゾルバーを提供し、これらのジェネレーターとリゾルバーは、マニフェスト内の非標準のタグに基づいています。 アプリケーションでは、ブラックアウト期間の指標など、マニフェストで識別されるオポチュニティに基づいてタイムラインを変更する必要が生じる場合があります。

An *`opportunity`* 通常、広告配置オポチュニティを示す、タイムライン上の目標地点を表します。 また、このオポチュニティは、ブラックアウト期間など、タイムラインに影響を与える可能性のあるカスタム操作を示すこともできます。 An *`opportunity generator`* は、タイムライン内の特定のオポチュニティ（タグ）を識別し、これらのオポチュニティがタグ付けされたことを TVSDK に通知します。 商談は、 `PTTimedMetadata` 非標準（非 HLS）タグを含めることで実行できます。

オポチュニティ（タグ）に関する通知がアプリケーションに届いたら、例えば、一連の広告を挿入したり、別のストリームに切り替えたり（ブラックアウト）、タイムラインコンテンツを編集したりして、タイムラインを変更できます。 デフォルトでは、 TVSDK は適切な *`content resolver`* 必要なタイムラインの変更またはアクションを実装する場合。 アプリケーションは、デフォルトの TVSDK 広告コンテンツリゾルバーを使用するか、独自のコンテンツリゾルバーを登録することができます。

また、 `PTSDKConfig.setAdTags` TVSDK が認識して使用できるように、広告マーカータグ/キューを追加する `PTSDKConfig.setSubscribedTags` およびは、広告ワークフロー情報を伝達する可能性のある追加のタグについてアプリケーションに通知します。

カスタムリゾルバーの使用例の 1 つは、ブラックアウト期間に対するものです。 これらの期間を処理するために、アプリケーションはブラックアウトタグの処理を担当するブラックアウトオポチュニティディテクターを実装し、登録できます。 TVSDK は、このタグを検出すると、登録されているすべてのコンテンツリゾルバーをポーリングして、指定されたタグを処理する最初のリゾルバーを見つけます。 この例では、ブラックアウトコンテンツリゾルバーです。これは、例えば、タグで指定されている期間、現在の項目をプレーヤー上の代替コンテンツで置き換えることができます。
