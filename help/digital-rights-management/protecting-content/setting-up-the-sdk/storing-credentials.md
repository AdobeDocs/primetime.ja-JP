---
seo-title: 秘密鍵証明書の保存
title: 秘密鍵証明書の保存
uuid: a9e9db72-c921-4c28-ad1d-3fd3c2283f14
translation-type: tm+mt
source-git-commit: 1b9792a10ad606b99b6639799ac2aacb707b2af5
workflow-type: tm+mt
source-wordcount: '396'
ht-degree: 0%

---


# 資格情報の保存{#storing-credentials}

Primetime DRM SDKは、ハードウェアセキュリティモジュール(HSM)の使用、PKCS12ファイルの使用など、秘密鍵証明書を保存する様々な方法をサポートしています。 秘密鍵が必要な場合、SDKは秘密鍵証明書（公開鍵証明書と関連付けられた秘密鍵）を使用します。 例えば、パッケージャーは秘密鍵証明書を使用してメタデータに署名します。ライセンスサーバーは、証明書を使用して、License Serverまたはトランスポートの公開鍵で暗号化されたデータを復号化します。

秘密鍵は、コンテンツとLicense Serverのセキュリティを確保するために厳重に保護する必要があります。 PKCS12は、パスワードで暗号化された秘密鍵証明書を保存するための標準のアーカイブファイル形式です。 （PKCS12ファイル自体を暗号化して署名することもできます）。 ファイル拡張子[!DNL .pfx]は、この形式をサポートするファイルで一般的に使用されます。

>[!NOTE]
>
>Adobeでは、セキュリティを最大限に高めるためにHSMを使用することをお勧めします。
>
>『*Adobe PrimetimeDRMセキュアデプロイメントガイドライン*』ガイドを参照してください。

>[!NOTE]
>
>Java 1.7以降、64ビットSun Java for Windowsでは、Primetime DRMがHSMデバイスと通信するために必要なPKCS11インターフェイスをサポートしなくなりました。 HSMを使用する場合は、32ビット版のJavaを使用するか、完全なPKCS11インターフェイスをサポートするJDKを使用する必要があります。

HSMには秘密鍵を保持し、Primetime DRM SDKを使用して、HSMから取得した秘密鍵証明書を渡すことができます。 HSMに保存されている秘密鍵証明書を使用する場合は、秘密鍵へのハンドルを取得するために、HSMと通信できるJCEプロバイダーを使用する必要があります。 次に、秘密鍵ハンドル、プロバイダー名、および公開鍵を含む証明書を`ServerCredentialFactory.getServerCredential()`に渡す必要があります。

SunPKCS11プロバイダーは、HSMの秘密鍵にアクセスする際に使用できるJCEプロバイダーの1つの例を表しています。 HSMには、JCEプロバイダーにバンドルされているJava SDKにも含まれているものもあります。

このプロバイダの使用方法については、Sun Javaのマニュアルを参照してください。

PEMとDERは、公開鍵証明書をエンコードする方法です。 PEMはBase-64エンコーディングで、DERはバイナリエンコーディングです。 証明書ファイルには通常、拡張子[!DNL .cer]、[!DNL .pem]、または[!DNL .der]が使用されます。 証明書は、公開鍵のみが必要な場合に使用します。 コンポーネントの操作に公開鍵のみが必要な場合は、秘密鍵証明書またはPKCS12ファイルではなく、そのコンポーネントに証明書を提供することをお勧めします。
