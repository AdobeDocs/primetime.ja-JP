---
seo-title: 匿名ドメイン
title: 匿名ドメイン
uuid: ee29ae4d-65b2-48de-b441-18c8cf55de32
translation-type: tm+mt
source-git-commit: 29bc8323460d9be0fce66cbea7c6fce46df20d61

---


# 匿名ドメイン {#anonymous-domains}

この使用例では、多数のデバイスが1つのドメインに属しており、認証が必要でない場合があります。 この種類のドメインを参照実装で使用するには、ドメイン登録が必要であることを指定するポリシーを作成します。 ドメインサーバーのURLをに指定し、匿名 [*!DNL https:// host:port/flashaccess/domainserver/domainname/*] 認証を指定します。

参照実装では、ドメイン登録用に次のロジックが実装されます。

1. 要求URLからドメイン名を解析します。
1. テーブル内のドメイン名を参照 `DomainServerInfo` します。 エントリが見つからない場合は、テーブルにエントリを挿入します(デフォルト値：認証は必須ではなく、メンバーシップの上限はありません)。
1. 要求されたドメインに認証が必要な場合は、有効な認証トークンが要求に含まれていることを確認し、データベースで指定されている場合は、認証名前空間と一致していることを確認します。

   1. 認証が必要で、有効な認証トークンが指定されなかった場合は、エラーを返しま `DOM_AUTHENTICATION_REQUIRED (503)`す。

1. デバイスがドメインに既に登録されているかどうかを確認します。

   1. テーブル内のドメイン名を参照 `DomainMembership` します。 見つかった各マシンのGUIDに対して、要求内のマシンのGUIDと比較します。 これが新しいマシンの場合は、テーブルにエントリを追加し `DomainMembership` ます。

   1. 新しいデバイスで、既に最大メンバーシップに達している場合は、エラーを返しま `DOM_LIMIT_REACHED (502)`す。

1. テーブル内のこのドメインのすべてのドメインキーを参照 `DomainKeys` します。

   1. キーをロ `DomainServerInfo` ールオーバーする必要があることを示している場合は、新しいキーペアを生成し、テーブルに保存して（キーバージョン1が既存の最も高いキーよりも高い）、でフラグをリセ `DomainKeys` ットしま `Key Rollover Required``DomainServerInfo`す。

   1. 各ドメインキーに対して、ドメイン秘密鍵証明書を生成します。

参照実装では、ドメインの登録解除のために次のロジックが実装されています。

1. 要求URLからドメイン名を解析します。
1. テーブル内の要求されたドメイン名を参照 `DomainServerInfo` します。
1. 要求されたドメインに認証が必要な場合は、有効な認証トークンが要求に含まれていることを確認し、データベースで指定されている場合は、認証名前空間と一致していることを確認します。
1. テーブル内のドメイン名とマシンGUIDを参照し `DomainMembership` ます。 一致するエントリが見つからない場合は、エラーを返しま `DEREG_DENIED (401)`す。

1. これがプレビュー要求でない場合は、からエントリを削除し、 `DomainMembership` でフラグを `Key Rollover Required` 設定しま `DomainServerInfo`す。

この場合、多数のマシンがドメインに参加する可能性があるので、マシンIDと完全に一致させることはできません。 個別化の際にマシンに割り当てられたランダムなマシンGUIDが使用されます。
