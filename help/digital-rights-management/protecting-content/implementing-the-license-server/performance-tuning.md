---
seo-title: パフォーマンスの調整
title: パフォーマンスの調整
uuid: db8889c7-ecf5-4551-a6fc-1d3ab992b9ff
translation-type: tm+mt
source-git-commit: 1b9792a10ad606b99b6639799ac2aacb707b2af5
workflow-type: tm+mt
source-wordcount: '404'
ht-degree: 0%

---


# パフォーマンス調整{#performance-tuning}

パフォーマンスを向上させるには、次のヒントを参考にしてください。

* ネットワークHSMの使用は、直接接続されたHSMの使用に比べて、大幅に遅くなる可能性があります。
* パフォーマンスを向上させるために、SDKの[!DNL thirdparty/cryptoj]フォルダーにあるプラットフォーム固有のライブラリを展開して、暗号化操作のネイティブサポートをオプションで有効にすることができます。 ネイティブサポートを有効にするには、プラットフォーム用のライブラリ（Windowsの場合はjsafe.dll、Linuxの場合はlibjsafe.so）をパスに追加します。

   >[!NOTE]
   >
   >同じTomcatインスタンスで複数のWebアプリケーションを実行し、パスに`jsafe.dll`がある場合、`jsafe.dll`ライブラリをロードできるのは最初のWebアプリケーションだけです。 したがって、最初のWebアプリケーションのみがネイティブサポートのメリットを受けます。 このような場合、すべてのWebアプリケーションのパフォーマンスを向上させるには、WARファイルの外側に`cryptoj.jar`を配置します。 例えば、`<tomcat_installation_folder>/lib`ディレクトリにあります。

* 64ビット版のRed Hat®やWindowsなどの64ビット版のオペレーティングシステムは、32ビット版のオペレーティングシステムと比べて、パフォーマンスが大幅に向上します。

## 乱数の生成(Linux) {#section_3E2E936A538F40B7BF8892C65E117907}

特定の条件下では、以下のような乱数生成を必要とするPrimetime DRM関連の操作を実行すると、Linux環境が一時停止する場合があります。

* Adobe PrimetimeDRMライセンスサーバーの起動
* [!DNL AdobePolicyManager]ユーティリティを使用したポリシーの生成
* DRM保護されたコンテンツをAdobeメディアサーバーまたはPrimetime OfflinePackagerでパッケージ化する

これらの処理の遅延は、多くの場合、Linuxサーバ上の低エントロピープールの結果です。

Linuxでは、乱数はサーバ環境のエントロピープールから生成されます。 エントロピープールは通常、Linuxカーネルがハードウェア割り込みを受け取ることで維持されます。 サーバが分離されていて、HWリソース（マウスやキーボードなど）からの正規入力を受け取らない場合、エントロピープールの再充填待ちが拡張される可能性があります。 このシナリオでは、[!DNL /dev/random]からのデータを待つ操作が一時停止する場合があります。

十分なエントロピーを確実に生成するために、Linuxサーバでハードウェア乱数ジェネレータを使うことができます。 ただし、特定の展開シナリオでハードウェア乱数ジェネレーターが使用できない場合は、ソフトウェアベースのソリューションを使用してエントロピープールの更新率を増やすことができます。 Linux上でこのようなソフトウェアソリューションの1つは[!DNL haveged] (HArdware Volatile Entropy Gathering and Expansion daemon)です。

## 使用可能なエントロピーの決定{#section_686B311FE6144566B6939E9F20915ADC}

予期しない遅延が発生した場合に、特定のサーバのエントロピープール内のビット数を確認するには、次のコマンドを実行します。

```
cat /proc/sys/kernel/random/entropy_avail 
```

十分なエントロピーを持つ健全なLinuxシステムは、完全な4,096ビットのエントロピーに近い状態に戻る。 返される値が200未満の場合は、エントロピーが非常に低くなっています。
