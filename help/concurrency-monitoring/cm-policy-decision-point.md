---
title: ポリシーの決定ポイント
description: ポリシーの決定ポイント
source-git-commit: ac0c15b951f305e29bb8fa0bd45aa2c53de6ad15
workflow-type: tm+mt
source-wordcount: '725'
ht-degree: 0%

---


# ポリシーの決定ポイント {#policy-desc-pt}

## ドメインモデル {#domain-model}

このページは、ポリシーの様々な使用事例や実装に関するリファレンスとして機能することを目的としています。 また、 [用語集](/help/concurrency-monitoring/cm-glossary.md) 用語の定義に関するドキュメントの一部です。

A **テナント** 所有者 **アプリ** それが実施したい **ポリシー**. **クライアントアプリケーション** は、 **アプリケーション ID** (Adobe)。

次に、テナントは、各アプリケーションを、自分が作成したポリシーまたは他のユーザーが作成して共有したポリシーに関連付けます。 ポリシーは、複数のテナント間でリンクできます。

The **主体活動** は、特定の件名に対して同時実行監視にレポートされるすべてのストリーム（アプリケーションに関係なく）で構成されます。

ストリームが特定の主体に対して承認される場合、システムはまず、ストリームを作成したアプリケーションに対して定義されたすべてのポリシーを確認します。

該当するポリシーごとに、すべての **関連アクティビティ** それがルールに渡されます。 The **関連アクティビティ** ポリシー P には、次の条件を満たす場合にストリーム S のみが含まれます。

**ストリーム「S」は、ポリシーの中にポリシー「P」を含むアプリケーションによって開始されます。**

![ストリーム「S」は、ポリシーの中にポリシー「P」を含むアプリケーションによって開始されます。](assets/pdp-domain-model.png)

## ドライランの使用例 {#dry-run-use-cases}

以下の説明は、一部の使用例に対してモデルを検証することを目的としています。 それには、基本的な設定から始め、様々な方法で複雑さを加えます。

### 1.テナント 1 人。 1 つのアプリケーション。 1 つのポリシー。 1 つのストリーム {#onetenant-oneapp-onepolicy-onestream}

まず、1 つのアプリケーションと 1 つのポリシーを関連付けた 1 つのテナントから始めます。 ポリシーで、任意のユーザーに対して最大 1 つのアクティブストリームが存在できる（最新のストリームの再生が許可されている）と述べたとします。

ストリームが開始されると、アクティビティはそのストリームのみで構成され、再生が許可されます。

![1 テナント。 1 つのアプリケーション。 1 つのポリシー。 1 つのストリーム](assets/onetenant-app-policy-stream.png)


### 2. 1 テナント。 1 つのアプリケーション。 1 つのポリシー。 2 つのストリーム。 {#onetenant-oneapp-onepolicy-twostreams}

2 つ目のストリームが（同じアプリケーションを使用する同じ件名で）開始されると、検証に使用されるアクティビティは、両方で構成されます **s1** および **s2**.

ポリシーに、再生できるストリームが 1 つのみと示されているので、制限を超えています。したがって、最新のストリーム (**s2**) をクリックして再生します。

![1 テナント。 1 つのアプリケーション。 1 つのポリシー。 2 つのストリーム。](assets/tenant-app-policy-twostream.png)

>[!NOTE]
>
>図は、ユーザーアクティビティのシステム表示を表します。 ストリームの初期化の試行の場合、アクセスの決定が応答に含まれます。 アクティブストリームの場合、決定はハートビート応答で返されます。

### 3.テナント 2 名 2 つのアプリケーション。 1 つのポリシー。 2 つのストリーム。 {#twotenant-twoapp-onepolicy-twostreams}

新しいテナントで、アプリケーションで同じポリシーを適用するとします。

![2 人のテナント。 2 つのアプリケーション。 1 つのポリシー。 2 つのストリーム。](assets/onepolicy-twotenant-app-stream.png)

2 人のテナントが同じ方針でリンクされているので、ユースケース 2 に記載されている状況は、ここおよび **s3** は最新のストリームなので、を再生できます。

### 4.テナント 2 名 3 つのアプリケーション。 2 つのポリシー。 2 つのストリーム。 {#twotenants-threeapps-twopolicies-twostreams}

次に、2 つ目のテナントが新しいアプリケーションをデプロイし、間で共有される新しいポリシーを定義するとします **app2** および **app3**.

![2 人のテナント。 3 つのアプリケーション。 2 つのポリシー。 2 つのストリーム。](assets/twotenant-policies-streams-threeapps.png)

現時点では、アクティブなストリーム **s3** および **s4** は両方とも許可されています。 の場合 **s3**（ポリシーの場合） **P1** が評価された場合、システムは **s3** as **関連アクティビティ** (**s4** は、ポリシーとは全く関係がありません **P1**) の場合は、違反はありません。

ポリシー **P2** が両方のストリームに適用され、両方を含めます **s3** および **s4** 関連するアクティビティとして。 このアクティビティは 2 つのストリームの範囲内にあるので、両方のストリームが許可されます。

### 5.テナントを二人。 3 つのアプリケーション。 2 つのポリシー。 3 つのストリーム。 {#twotenants-threeapps-twopolicies-threestreams}

次に、新しいストリーム初期化の試行が **app2**:

![2 人のテナント。 3 つのアプリケーション。 2 つのポリシー。 3 つのストリーム。](assets/twotenants-policies-threeapps-streams.png)

**s5** は次の基準で開始できます： **P1** （新しいストリームを引き継ぐことができます）が、次の場合には拒否されます： **P2**&#x200B;だから始まらない。

app3 でストリーム init を試みた場合も同じことが起こります。同じポリシー P2 がそのアクセスを拒否します。

![](assets/stream-init-attempted-app3.png)

次に、ユーザーが app1 を使用して新しいストリームを作成しようとするとどうなるかを見てみましょう。

![](assets/new-stream-with-app1.png)

アプリケーション app1 は、ポリシーに関連するものではありません **P2**&#x200B;の場合は、ポリシーのみが適用されます **P1**：新しいストリームが古いストリーム (**s3** （この場合）。

