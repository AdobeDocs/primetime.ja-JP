---
description: メディアストリームは、プレイリスト/マニフェストファイル内のタグの形式で追加のメタデータを伝達できます。このファイルは広告の配置を示します。 カスタムタグ名を指定し、特定のタグがマニフェストファイルに出現したら通知を受けることができます。
title: カスタムタグ
translation-type: tm+mt
source-git-commit: 89bdda1d4bd5c126f19ba75a819942df901183d1
workflow-type: tm+mt
source-wordcount: '327'
ht-degree: 0%

---


# 概要{#custom-tags-overview}

メディアストリームは、プレイリスト/マニフェストファイル内のタグの形式で追加のメタデータを伝達できます。このファイルは広告の配置を示します。 カスタムタグ名を指定し、特定のタグがマニフェストファイルに出現したら通知を受けることができます。

## HLSコンテンツタグ{#section_E99299152089418FBA56F5F09FC547B0}

>[!IMPORTANT]
>
>TVSDKは、FlashやMSEではなくビデオタグを使用してHLSコンテンツを再生するので、Appleコンピューター上のSafariではこの機能を利用できません。

TVSDKは、特定の#EXT広告タグを標準でサポートしています。 アプリケーションは、広告ワークフローを強化したり、ブラックアウトシナリオをサポートするためにカスタムタグを使用できます。 高度なワークフローをサポートするために、TVSDKではマニフェスト内の追加のタグを指定し、サブスクライブできます。 これらのタグがマニフェストファイルに出現したら、通知を受け取ることができます。

>[!TIP]
>
>VODストリームとライブ/リニアストリームの両方に対して、カスタムタグをサブスクライブできます。

>[!NOTE]
>
>HLSを再生する際に、Safariでビデオタグを使用し、Flashのフォールバックを使用しない場合、この機能はSafariでは使用できません。

## カスタムHLSタグを使用{#section_AD032318AEF5418393D2B1DF36B0BABB}

カスタマイズされたVODアセットの例を次に示します。

```
#EXTM3U
#EXT-X-VERSION:3
#EXT-X-TARGETDURATION:7
 
#EXT-X-ASSET:AID=10
 
#EXTINF:9.9766,
seg1.ts
 
#EXTINF:9.9766,
seg2.ts
 
#EXTINF:9.9766,
seg3.ts
 
#EXT-X-AD:DURATION=10
#EXTINF:9.9766,
seg4.ts
 
#EXTINF:9.9766,
seg5.ts
 
#EXT-X-ENDLIST
```

アプリケーションでは、次のシナリオを設定できます。

* `#EXT-X-ASSET`タグまたはサブスクライブした他のカスタムタグ名のセットがファイルに存在する場合の通知。
* `#EXT-X-AD`タグまたは他のカスタムタグ名がストリーム内で見つかった場合に広告を挿入します。

次のタグは、カスタムタグとしてサブスクライブできます。`EXT-PROGRAM-DATE-TIME`、`EXT-X-START`、`EXT-X-AD`、`EXT-X-CUE`、`EXT-X-ENDLIST`。 マニフェストファイルの解析中に`TimedMetadata`イベントが通知されます。

`EXT-X-CUE`など、既に登録済みの広告タグがいくつかあります。 これらの広告タグは、デフォルトのオポチュニティジェネレーターでも使用されます。 デフォルトのオポチュニティジェネレーターが使用する広告タグは、`adTags`プロパティを設定することで指定できます。