---
title: ライセンス取得プロセスの概要
description: ライセンス取得プロセスの概要
copied-description: true
translation-type: tm+mt
source-git-commit: 89bdda1d4bd5c126f19ba75a819942df901183d1
workflow-type: tm+mt
source-wordcount: '339'
ht-degree: 0%

---


# ライセンス取得プロセスの概要{#license-acquisition-process-overview}

Primetime DRMの保護下でアプリケーションがコンテンツを再生できるようにする方法については、以降の節で、ActionScript3(AS3)コードサンプルを使用して説明します。 モバイルプラットフォームのネイティブアプリに関する、このワークフローからの離脱点が適宜示されます。 Primetime DRMのワークフローはすべてのプラットフォームで非常に似ていますが、AS3コードを理解していれば、他のプラットフォームをかなり単純に推定できます。

**ライセンス取得プロセス：**

1. 保護されたコンテンツのDRMメタデータを取得します。
1. ライセンスがローカルで使用可能かどうかを確認します。

   * ライセンスがローカルで使用可能な場合は、ライセンスを読み込んで手順6に進みます。
   * ライセンスがローカルで使用できない場合は、手順3に進みます。

1. 認証が必要かどうかを確認します。

   * 認証が必要な場合は、ユーザーから認証資格情報を取得し、ライセンスサーバーに渡します。
   * 認証が必要ない場合は、手順6に進みます。

1. デバイスドメインの登録が必要な場合は、デバイスドメインに参加します。
1. 認証が必要で、これで完了した場合は、ライセンスサーバーからライセンスをダウンロードします。
1. コンテンツを再生します。

エラーが発生せず、ユーザーがコンテンツの表示を承認された場合、Primetimeは`DRMStatusEvent`オブジェクトをディスパッチし、アプリケーションは再生を開始します。 `DRMStatusEvent`オブジェクトは、ユーザーのポリシーと権限を識別する、関連するライセンス情報を保持します。 例えば、`DRMStatusEvent`は、コンテンツをオフラインで使用できるかどうか、ライセンスの期限が切れた場合などに関する情報を保持することができます。

アプリケーションは、ライセンス情報を使用して、ユーザーにポリシーのステータスを通知できます。 例えば、ユーザーがコンテンツを表示するのに残りの日数をステータスバーに表示できます。 ユーザーがオフラインアクセスを許可されている場合、ライセンスはキャッシュされ、暗号化されたコンテンツがユーザーのコンピューターにダウンロードされます。 コンテンツは、ライセンスキャッシュ期間で定義された期間、アクセス可能になります。 イベントのdetailプロパティには`DRM.voucherObtained`が含まれています。 コンテンツをオフラインで使用できるように、コンテンツをローカルに保存する場所はアプリケーションが決定します。 `DRMManager`クラスを使用して、ライセンスを事前に読み込むこともできます。
